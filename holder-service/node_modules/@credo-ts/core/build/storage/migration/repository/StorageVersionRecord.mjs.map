{"version":3,"file":"StorageVersionRecord.mjs","names":[],"sources":["../../../../src/storage/migration/repository/StorageVersionRecord.ts"],"sourcesContent":["import type { VersionString } from '../../../utils/version'\n\nimport { BaseRecord } from '../../BaseRecord'\nimport { CURRENT_FRAMEWORK_STORAGE_VERSION, STORAGE_VERSION_RECORD_ID } from '../updates'\n\nexport interface StorageVersionRecordProps {\n  createdAt?: Date\n  storageVersion: VersionString\n}\n\nexport class StorageVersionRecord extends BaseRecord {\n  public storageVersion!: VersionString\n\n  public static readonly type = 'StorageVersionRecord'\n  public readonly type = StorageVersionRecord.type\n\n  public constructor(props: StorageVersionRecordProps) {\n    super()\n\n    if (props) {\n      this.id = StorageVersionRecord.storageVersionRecordId\n      this.createdAt = props.createdAt ?? new Date()\n      this.storageVersion = props.storageVersion\n    }\n  }\n\n  public getTags() {\n    return this._tags\n  }\n\n  public static get frameworkStorageVersion() {\n    return CURRENT_FRAMEWORK_STORAGE_VERSION\n  }\n\n  public static get storageVersionRecordId() {\n    return STORAGE_VERSION_RECORD_ID\n  }\n}\n"],"mappings":";;;;;;AAUA,IAAa,uBAAb,MAAa,6BAA6B,WAAW;CAMnD,AAAO,YAAY,OAAkC;AACnD,SAAO;OAHO,OAAO,qBAAqB;AAK1C,MAAI,OAAO;AACT,QAAK,KAAK,qBAAqB;AAC/B,QAAK,YAAY,MAAM,6BAAa,IAAI,MAAM;AAC9C,QAAK,iBAAiB,MAAM;;;CAIhC,AAAO,UAAU;AACf,SAAO,KAAK;;CAGd,WAAkB,0BAA0B;AAC1C,SAAO;;CAGT,WAAkB,yBAAyB;AACzC,SAAO;;;qBAtBc,OAAO"}