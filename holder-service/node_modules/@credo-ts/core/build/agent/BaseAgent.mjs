

import { AgentContext } from "./context/AgentContext.mjs";
import "./context/index.mjs";
import { KeyManagementApi } from "../modules/kms/KeyManagementApi.mjs";
import "../modules/kms/index.mjs";
import { X509Api } from "../modules/x509/X509Api.mjs";
import "../modules/x509/index.mjs";
import { EventEmitter } from "./EventEmitter.mjs";
import { DidsApi } from "../modules/dids/DidsApi.mjs";
import "../modules/dids/index.mjs";
import { W3cCredentialsApi } from "../modules/vc/W3cCredentialsApi.mjs";
import { W3cV2CredentialsApi } from "../modules/vc/W3cV2CredentialsApi.mjs";
import "../modules/vc/index.mjs";
import { MdocApi } from "../modules/mdoc/MdocApi.mjs";
import "../modules/mdoc/index.mjs";
import { SdJwtVcApi } from "../modules/sd-jwt-vc/SdJwtVcApi.mjs";
import "../modules/sd-jwt-vc/index.mjs";
import { GenericRecordsApi } from "../modules/generic-records/GenericRecordsApi.mjs";
import "../modules/generic-records/index.mjs";
import { getAgentApi } from "./AgentModules.mjs";

//#region src/agent/BaseAgent.ts
var BaseAgent = class {
	constructor(agentConfig, dependencyManager) {
		this.agentConfig = agentConfig;
		this.dependencyManager = dependencyManager;
		this._isInitialized = false;
		this.logger = this.agentConfig.logger;
		this.logger.info("Creating agent with config", { agentConfig: agentConfig.toJSON() });
		this.eventEmitter = this.dependencyManager.resolve(EventEmitter);
		this.agentContext = this.dependencyManager.resolve(AgentContext);
		this.genericRecords = this.dependencyManager.resolve(GenericRecordsApi);
		this.dids = this.dependencyManager.resolve(DidsApi);
		this.w3cCredentials = this.dependencyManager.resolve(W3cCredentialsApi);
		this.w3cV2Credentials = this.dependencyManager.resolve(W3cV2CredentialsApi);
		this.sdJwtVc = this.dependencyManager.resolve(SdJwtVcApi);
		this.x509 = this.dependencyManager.resolve(X509Api);
		this.mdoc = this.dependencyManager.resolve(MdocApi);
		this.kms = this.dependencyManager.resolve(KeyManagementApi);
		const defaultApis = [
			this.genericRecords,
			this.dids,
			this.w3cCredentials,
			this.w3cV2Credentials,
			this.sdJwtVc,
			this.x509,
			this.mdoc,
			this.kms
		];
		this.modules = getAgentApi(this.dependencyManager, defaultApis);
		this.didcomm = "didcomm" in this.modules ? this.modules.didcomm : void 0;
		this.openid4vc = "openid4vc" in this.modules ? this.modules.openid4vc : void 0;
	}
	get isInitialized() {
		return this._isInitialized;
	}
	get config() {
		return this.agentConfig;
	}
	get context() {
		return this.agentContext;
	}
};

//#endregion
export { BaseAgent };
//# sourceMappingURL=BaseAgent.mjs.map