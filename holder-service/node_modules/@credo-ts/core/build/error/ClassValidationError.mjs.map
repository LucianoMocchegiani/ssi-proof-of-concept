{"version":3,"file":"ClassValidationError.mjs","names":[],"sources":["../../src/error/ClassValidationError.ts"],"sourcesContent":["import type { ValidationError } from 'class-validator'\n\nimport { CredoError } from './CredoError'\n\nexport class ClassValidationError extends CredoError {\n  public validationErrors: ValidationError[]\n\n  public validationErrorsToString() {\n    return this.validationErrors?.map((error) => error.toString(true)).join('\\n') ?? ''\n  }\n\n  public constructor(\n    message: string,\n    { classType, cause, validationErrors }: { classType: string; cause?: Error; validationErrors?: ValidationError[] }\n  ) {\n    const validationErrorsStringified = validationErrors\n      ?.map((error) => error.toString(undefined, undefined, undefined, true))\n      .join('\\n')\n    super(\n      `${classType}: ${message}\n${validationErrorsStringified}`,\n      { cause }\n    )\n    this.validationErrors = validationErrors ?? []\n  }\n}\n"],"mappings":";;;;;AAIA,IAAa,uBAAb,cAA0C,WAAW;CAGnD,AAAO,2BAA2B;AAChC,SAAO,KAAK,kBAAkB,KAAK,UAAU,MAAM,SAAS,KAAK,CAAC,CAAC,KAAK,KAAK,IAAI;;CAGnF,AAAO,YACL,SACA,EAAE,WAAW,OAAO,oBACpB;EACA,MAAM,8BAA8B,kBAChC,KAAK,UAAU,MAAM,SAAS,QAAW,QAAW,QAAW,KAAK,CAAC,CACtE,KAAK,KAAK;AACb,QACE,GAAG,UAAU,IAAI,QAAQ;EAC7B,+BACI,EAAE,OAAO,CACV;AACD,OAAK,mBAAmB,oBAAoB,EAAE"}