{"version":3,"file":"credentialUseTypes.mjs","names":[],"sources":["../../src/utils/credentialUseTypes.ts"],"sourcesContent":["/**\n * The `CredentialMultiInstanceState` enum represents the state of credential instances on a record.\n */\nexport enum CredentialMultiInstanceState {\n  /**\n   * Indicates the credential record is a single instance record, and the instance has been used.\n   */\n  SingleInstanceUsed = 'SingleInstanceUsed',\n\n  /**\n   * Indicates the credential record is a single instance record, and the instance has not been used.\n   */\n  SingleInstanceUnused = 'SingleInstanceUnused',\n\n  /**\n   * Indicates the credential record is a multi instance record, where the first instance is used. It may still have other\n   * instances that are unused (which can be detected if the length of credentialInstances > 1)\n   */\n  MultiInstanceFirstUsed = 'MultiInstanceFirstUsed',\n\n  /**\n   * Indicates the credential record is a multi instance record, where the first instance has not been used. It may still have other\n   * instances that are unused (which can be detected if the length of credentialInstances > 1)\n   */\n  MultiInstanceFirstUnused = 'MultiInstanceFirstUnused',\n}\n\n/**\n * The `CredentialMultiInstanceUseMode` enum offers different modes for usage of credential instances from records.\n */\nexport enum CredentialMultiInstanceUseMode {\n  /**\n   * Always use a new unused instance. If not available an error will be thrown\n   * that a new instance could not be extracted. This removes the instance from the record.\n   */\n  New = 'New',\n\n  /**\n   * Use a new unused instance if the credential was received as a batch (mimicking behavior of the `CredentialMultiInstanceUseMode.New` mode).\n   * If only a single instance was received it will use the first instance (mimicking behavior of the `CredentialMultiInstanceUseMode.First` mode).\n   */\n  NewIfReceivedInBatch = 'NewIfReceivedInBatch',\n\n  /**\n   * use a new unused instance if available, or fallback to the\n   * first one if not available. This is a combination of the `first` and `new` modes, and the same\n   * behavior applies (in terms of whether the instance is removed from the record).\n   */\n  NewOrFirst = 'NewOrFirst',\n\n  /**\n   * Always use the first credential instance on the record. This does not remove\n   * the credential instance from the record, and it also does not prevent reusing.\n   */\n  First = 'First',\n}\n\nexport enum CredentialMultiInstanceUseUpdateMode {\n  /**\n   * The record is not updated, which means the credential can be reused in the future even\n   * if `useMode` is set to `New`. This is generally not recommended.\n   */\n  None = 'None',\n\n  /**\n   * Update the provided record if a new instance is used. This may result in race conditions\n   * if multiple processes are using the record at the same time (e.g. in a server environment)\n   */\n  Update = 'Update',\n\n  /**\n   * Refetch and update the provided record with a lock. This is the safest method, but does\n   * require another re-fetch of the record. Locking is not supported on all databases backend,\n   * in which case the record will be refetched and updated without lock.\n   *\n   * Even without lock, this will still minimize the chance of race conditions and concurrent writes significantly, as\n   * with the standard `Update` the record was fetched at the time the credentials were received, which is usually before\n   * showing the request to the user and waiting for confirmation.\n   *\n   * This is the recommended option.\n   */\n  RefetchAndUpdateWithLock = 'RefetchAndUpdateWithLock',\n}\n"],"mappings":";;;;;;AAGA,IAAY,sFAAL;;;;AAIL;;;;AAKA;;;;;AAMA;;;;;AAMA;;;;;;AAMF,IAAY,0FAAL;;;;;AAKL;;;;;AAMA;;;;;;AAOA;;;;;AAMA;;;AAGF,IAAY,sGAAL;;;;;AAKL;;;;;AAMA;;;;;;;;;;;;AAaA"}