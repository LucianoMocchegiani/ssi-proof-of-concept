{"version":3,"file":"W3cV2CredentialsApi.mjs","names":[],"sources":["../../../src/modules/vc/W3cV2CredentialsApi.ts"],"sourcesContent":["import { AgentContext } from '../../agent'\nimport { injectable } from '../../plugins'\nimport type { Query, QueryOptions } from '../../storage/StorageService'\nimport type { ClaimFormat, W3cV2VerifiableCredential } from './models'\nimport type { W3cV2CredentialRecord } from './repository'\nimport { W3cV2CredentialService } from './W3cV2CredentialService'\nimport type {\n  W3cV2SignCredentialOptions,\n  W3cV2SignPresentationOptions,\n  W3cV2StoreCredentialOptions,\n  W3cV2VerifyCredentialOptions,\n  W3cV2VerifyPresentationOptions,\n} from './W3cV2CredentialServiceOptions'\n\n/**\n * @public\n */\n@injectable()\nexport class W3cV2CredentialsApi {\n  private agentContext: AgentContext\n  private w3cV2CredentialService: W3cV2CredentialService\n\n  public constructor(agentContext: AgentContext, w3cV2CredentialService: W3cV2CredentialService) {\n    this.agentContext = agentContext\n    this.w3cV2CredentialService = w3cV2CredentialService\n  }\n\n  public async store(options: W3cV2StoreCredentialOptions): Promise<W3cV2CredentialRecord> {\n    return this.w3cV2CredentialService.storeCredential(this.agentContext, options)\n  }\n\n  public async deleteById(id: string) {\n    return this.w3cV2CredentialService.removeCredentialRecord(this.agentContext, id)\n  }\n\n  public async getAll(): Promise<W3cV2CredentialRecord[]> {\n    return this.w3cV2CredentialService.getAllCredentialRecords(this.agentContext)\n  }\n\n  public async getById(id: string): Promise<W3cV2CredentialRecord> {\n    return this.w3cV2CredentialService.getCredentialRecordById(this.agentContext, id)\n  }\n\n  public async findAllByQuery(\n    query: Query<W3cV2CredentialRecord>,\n    queryOptions?: QueryOptions\n  ): Promise<W3cV2VerifiableCredential[]> {\n    return this.w3cV2CredentialService.findCredentialsByQuery(this.agentContext, query, queryOptions)\n  }\n\n  public async signCredential<Format extends ClaimFormat.JwtW3cVc | ClaimFormat.SdJwtW3cVc>(\n    options: W3cV2SignCredentialOptions<Format>\n  ) {\n    return this.w3cV2CredentialService.signCredential<Format>(this.agentContext, options)\n  }\n\n  public async verifyCredential(options: W3cV2VerifyCredentialOptions) {\n    return this.w3cV2CredentialService.verifyCredential(this.agentContext, options)\n  }\n\n  public async signPresentation<Format extends ClaimFormat.JwtW3cVp | ClaimFormat.SdJwtW3cVp>(\n    options: W3cV2SignPresentationOptions<Format>\n  ) {\n    return this.w3cV2CredentialService.signPresentation<Format>(this.agentContext, options)\n  }\n\n  public async verifyPresentation(options: W3cV2VerifyPresentationOptions) {\n    return this.w3cV2CredentialService.verifyPresentation(this.agentContext, options)\n  }\n}\n"],"mappings":";;;;;;;;;;;AAkBO,gCAAM,oBAAoB;CAI/B,AAAO,YAAY,cAA4B,wBAAgD;AAC7F,OAAK,eAAe;AACpB,OAAK,yBAAyB;;CAGhC,MAAa,MAAM,SAAsE;AACvF,SAAO,KAAK,uBAAuB,gBAAgB,KAAK,cAAc,QAAQ;;CAGhF,MAAa,WAAW,IAAY;AAClC,SAAO,KAAK,uBAAuB,uBAAuB,KAAK,cAAc,GAAG;;CAGlF,MAAa,SAA2C;AACtD,SAAO,KAAK,uBAAuB,wBAAwB,KAAK,aAAa;;CAG/E,MAAa,QAAQ,IAA4C;AAC/D,SAAO,KAAK,uBAAuB,wBAAwB,KAAK,cAAc,GAAG;;CAGnF,MAAa,eACX,OACA,cACsC;AACtC,SAAO,KAAK,uBAAuB,uBAAuB,KAAK,cAAc,OAAO,aAAa;;CAGnG,MAAa,eACX,SACA;AACA,SAAO,KAAK,uBAAuB,eAAuB,KAAK,cAAc,QAAQ;;CAGvF,MAAa,iBAAiB,SAAuC;AACnE,SAAO,KAAK,uBAAuB,iBAAiB,KAAK,cAAc,QAAQ;;CAGjF,MAAa,iBACX,SACA;AACA,SAAO,KAAK,uBAAuB,iBAAyB,KAAK,cAAc,QAAQ;;CAGzF,MAAa,mBAAmB,SAAyC;AACvE,SAAO,KAAK,uBAAuB,mBAAmB,KAAK,cAAc,QAAQ;;;kCAlDpF,YAAY"}