{"version":3,"file":"ed25519.mjs","names":[],"sources":["../../../../../src/modules/dids/domain/key-type/ed25519.ts"],"sourcesContent":["import { CredoError } from '../../../../error'\nimport { Ed25519PublicJwk } from '../../../kms'\nimport type { VerificationMethod } from '../verificationMethod'\nimport {\n  getEd25519VerificationKey2018,\n  getPublicJwkFromEd25519VerificationKey2018,\n  getPublicJwkFromEd25519VerificationKey2020,\n  isEd25519VerificationKey2018,\n  isEd25519VerificationKey2020,\n  VERIFICATION_METHOD_TYPE_ED25519_VERIFICATION_KEY_2018,\n  VERIFICATION_METHOD_TYPE_ED25519_VERIFICATION_KEY_2020,\n  VERIFICATION_METHOD_TYPE_JSON_WEB_KEY_2020,\n  VERIFICATION_METHOD_TYPE_MULTIKEY,\n} from '../verificationMethod'\nimport type { KeyDidMapping } from './keyDidMapping'\n\nexport { convertPublicKeyToX25519 } from '@stablelib/ed25519'\n\nexport const keyDidEd25519: KeyDidMapping<Ed25519PublicJwk> = {\n  PublicJwkTypes: [Ed25519PublicJwk],\n  supportedVerificationMethodTypes: [\n    VERIFICATION_METHOD_TYPE_ED25519_VERIFICATION_KEY_2018,\n    VERIFICATION_METHOD_TYPE_ED25519_VERIFICATION_KEY_2020,\n    VERIFICATION_METHOD_TYPE_JSON_WEB_KEY_2020,\n    VERIFICATION_METHOD_TYPE_MULTIKEY,\n  ],\n  getVerificationMethods: (did, publicJwk) => [\n    getEd25519VerificationKey2018({ id: `${did}#${publicJwk.fingerprint}`, publicJwk, controller: did }),\n  ],\n\n  getPublicJwkFromVerificationMethod: (verificationMethod: VerificationMethod) => {\n    if (isEd25519VerificationKey2018(verificationMethod)) {\n      return getPublicJwkFromEd25519VerificationKey2018(verificationMethod)\n    }\n\n    if (isEd25519VerificationKey2020(verificationMethod)) {\n      return getPublicJwkFromEd25519VerificationKey2020(verificationMethod)\n    }\n\n    throw new CredoError(\n      `Verification method with type '${verificationMethod.type}' not supported for key type Ed25519`\n    )\n  },\n}\n"],"mappings":";;;;;;;;;;;;;;AAkBA,MAAa,gBAAiD;CAC5D,gBAAgB,CAAC,iBAAiB;CAClC,kCAAkC;EAChC;EACA;EACA;EACA;EACD;CACD,yBAAyB,KAAK,cAAc,CAC1C,8BAA8B;EAAE,IAAI,GAAG,IAAI,GAAG,UAAU;EAAe;EAAW,YAAY;EAAK,CAAC,CACrG;CAED,qCAAqC,uBAA2C;AAC9E,MAAI,6BAA6B,mBAAmB,CAClD,QAAO,2CAA2C,mBAAmB;AAGvE,MAAI,6BAA6B,mBAAmB,CAClD,QAAO,2CAA2C,mBAAmB;AAGvE,QAAM,IAAI,WACR,kCAAkC,mBAAmB,KAAK,sCAC3D;;CAEJ"}