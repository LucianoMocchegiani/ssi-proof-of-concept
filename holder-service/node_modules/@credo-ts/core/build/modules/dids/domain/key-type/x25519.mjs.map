{"version":3,"file":"x25519.mjs","names":[],"sources":["../../../../../src/modules/dids/domain/key-type/x25519.ts"],"sourcesContent":["import { CredoError } from '../../../../error'\nimport { X25519PublicJwk } from '../../../kms'\nimport type { VerificationMethod } from '../verificationMethod'\nimport {\n  getPublicJwkFrommX25519KeyAgreementKey2019,\n  getX25519KeyAgreementKey2019,\n  isX25519KeyAgreementKey2019,\n  VERIFICATION_METHOD_TYPE_JSON_WEB_KEY_2020,\n  VERIFICATION_METHOD_TYPE_MULTIKEY,\n  VERIFICATION_METHOD_TYPE_X25519_KEY_AGREEMENT_KEY_2019,\n} from '../verificationMethod'\nimport type { KeyDidMapping } from './keyDidMapping'\n\nexport const keyDidX25519: KeyDidMapping<X25519PublicJwk> = {\n  PublicJwkTypes: [X25519PublicJwk],\n  supportedVerificationMethodTypes: [\n    VERIFICATION_METHOD_TYPE_X25519_KEY_AGREEMENT_KEY_2019,\n    VERIFICATION_METHOD_TYPE_JSON_WEB_KEY_2020,\n    VERIFICATION_METHOD_TYPE_MULTIKEY,\n  ],\n  getVerificationMethods: (did, publicJwk) => [\n    getX25519KeyAgreementKey2019({ id: `${did}#${publicJwk.fingerprint}`, publicJwk, controller: did }),\n  ],\n\n  getPublicJwkFromVerificationMethod: (verificationMethod: VerificationMethod) => {\n    if (isX25519KeyAgreementKey2019(verificationMethod)) {\n      return getPublicJwkFrommX25519KeyAgreementKey2019(verificationMethod)\n    }\n\n    throw new CredoError(`Verification method with type '${verificationMethod.type}' not supported for key type X25519`)\n  },\n}\n"],"mappings":";;;;;;;;;;;;AAaA,MAAa,eAA+C;CAC1D,gBAAgB,CAAC,gBAAgB;CACjC,kCAAkC;EAChC;EACA;EACA;EACD;CACD,yBAAyB,KAAK,cAAc,CAC1C,6BAA6B;EAAE,IAAI,GAAG,IAAI,GAAG,UAAU;EAAe;EAAW,YAAY;EAAK,CAAC,CACpG;CAED,qCAAqC,uBAA2C;AAC9E,MAAI,4BAA4B,mBAAmB,CACjD,QAAO,2CAA2C,mBAAmB;AAGvE,QAAM,IAAI,WAAW,kCAAkC,mBAAmB,KAAK,qCAAqC;;CAEvH"}