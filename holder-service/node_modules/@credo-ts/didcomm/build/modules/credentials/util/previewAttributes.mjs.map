{"version":3,"file":"previewAttributes.mjs","names":[],"sources":["../../../../src/modules/credentials/util/previewAttributes.ts"],"sourcesContent":["import type { DidCommCredentialPreviewAttribute } from '../models'\n\nexport function arePreviewAttributesEqual(\n  firstAttributes: DidCommCredentialPreviewAttribute[],\n  secondAttributes: DidCommCredentialPreviewAttribute[]\n) {\n  if (firstAttributes.length !== secondAttributes.length) return false\n\n  const secondAttributeMap = secondAttributes.reduce<Record<string, DidCommCredentialPreviewAttribute>>(\n    (attributeMap, attribute) => {\n      attributeMap[attribute.name] = attribute\n      return attributeMap\n    },\n    {}\n  )\n\n  // check if no duplicate keys exist\n  if (new Set(firstAttributes.map((attribute) => attribute.name)).size !== firstAttributes.length) return false\n  if (new Set(secondAttributes.map((attribute) => attribute.name)).size !== secondAttributes.length) return false\n\n  for (const firstAttribute of firstAttributes) {\n    const secondAttribute = secondAttributeMap[firstAttribute.name]\n\n    if (!secondAttribute) return false\n    if (firstAttribute.value !== secondAttribute.value) return false\n    if (firstAttribute.mimeType !== secondAttribute.mimeType) return false\n  }\n\n  return true\n}\n"],"mappings":";AAEA,SAAgB,0BACd,iBACA,kBACA;AACA,KAAI,gBAAgB,WAAW,iBAAiB,OAAQ,QAAO;CAE/D,MAAM,qBAAqB,iBAAiB,QACzC,cAAc,cAAc;AAC3B,eAAa,UAAU,QAAQ;AAC/B,SAAO;IAET,EAAE,CACH;AAGD,KAAI,IAAI,IAAI,gBAAgB,KAAK,cAAc,UAAU,KAAK,CAAC,CAAC,SAAS,gBAAgB,OAAQ,QAAO;AACxG,KAAI,IAAI,IAAI,iBAAiB,KAAK,cAAc,UAAU,KAAK,CAAC,CAAC,SAAS,iBAAiB,OAAQ,QAAO;AAE1G,MAAK,MAAM,kBAAkB,iBAAiB;EAC5C,MAAM,kBAAkB,mBAAmB,eAAe;AAE1D,MAAI,CAAC,gBAAiB,QAAO;AAC7B,MAAI,eAAe,UAAU,gBAAgB,MAAO,QAAO;AAC3D,MAAI,eAAe,aAAa,gBAAgB,SAAU,QAAO;;AAGnE,QAAO"}