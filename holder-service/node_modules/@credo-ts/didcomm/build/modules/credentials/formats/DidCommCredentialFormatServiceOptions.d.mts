import { DidCommAttachment } from "../../../decorators/attachment/DidCommAttachment.mjs";
import { DidCommCredentialFormatSpec } from "../models/DidCommCredentialFormatSpec.mjs";
import { DidCommCredentialPreviewAttributeOptions } from "../models/DidCommCredentialPreviewAttribute.mjs";
import { DidCommCredentialExchangeRecord } from "../repository/DidCommCredentialExchangeRecord.mjs";
import { DidCommCredentialFormat, DidCommCredentialFormatPayload } from "./DidCommCredentialFormat.mjs";
import { DidCommCredentialFormatService } from "./DidCommCredentialFormatService.mjs";

//#region src/modules/credentials/formats/DidCommCredentialFormatServiceOptions.d.ts
/**
 * Infer the {@link DidCommCredentialFormat} based on a {@link DidCommCredentialFormatService}.
 *
 * It does this by extracting the `CredentialFormat` generic from the `CredentialFormatService`.
 *
 * @example
 * ```
 * // TheCredentialFormat is now equal to IndyCredentialFormat
 * type TheCredentialFormat = ExtractCredentialFormat<IndyCredentialFormatService>
 * ```
 *
 * Because the `IndyCredentialFormatService` is defined as follows:
 * ```
 * class IndyCredentialFormatService implements CredentialFormatService<IndyCredentialFormat> {
 * }
 * ```
 */
type ExtractCredentialFormat<Type> = Type extends DidCommCredentialFormatService<infer CredentialFormat> ? CredentialFormat : never;
/**
 * Infer an array of {@link DidCommCredentialFormat} types based on an array of {@link DidCommCredentialFormatService} types.
 *
 * This is based on {@link ExtractCredentialFormat}, but allows to handle arrays.
 */
type ExtractCredentialFormats<CFs extends DidCommCredentialFormatService[]> = { [CF in keyof CFs]: ExtractCredentialFormat<CFs[CF]> };
/**
 * Base return type for all methods that create an attachment format.
 *
 * It requires an attachment and a format to be returned.
 */
interface DidCommCredentialFormatCreateReturn {
  format: DidCommCredentialFormatSpec;
  attachment: DidCommAttachment;
  appendAttachments?: DidCommAttachment[];
}
/**
 * Base return type for all credential process methods.
 */
interface DidCommCredentialFormatProcessOptions {
  attachment: DidCommAttachment;
  credentialExchangeRecord: DidCommCredentialExchangeRecord;
}
interface DidCommCredentialFormatProcessCredentialOptions extends DidCommCredentialFormatProcessOptions {
  offerAttachment: DidCommAttachment;
  requestAttachment: DidCommAttachment;
  requestAppendAttachments?: DidCommAttachment[];
}
interface DidCommCredentialFormatCreateProposalOptions<CF extends DidCommCredentialFormat> {
  credentialExchangeRecord: DidCommCredentialExchangeRecord;
  credentialFormats: DidCommCredentialFormatPayload<[CF], 'createProposal'>;
  attachmentId?: string;
}
interface DidCommCredentialFormatAcceptProposalOptions<CF extends DidCommCredentialFormat> {
  credentialExchangeRecord: DidCommCredentialExchangeRecord;
  credentialFormats?: DidCommCredentialFormatPayload<[CF], 'acceptProposal'>;
  attachmentId?: string;
  proposalAttachment: DidCommAttachment;
}
interface DidCommCredentialFormatCreateProposalReturn extends DidCommCredentialFormatCreateReturn {
  previewAttributes?: DidCommCredentialPreviewAttributeOptions[];
}
interface DidCommCredentialFormatCreateOfferOptions<CF extends DidCommCredentialFormat> {
  credentialExchangeRecord: DidCommCredentialExchangeRecord;
  credentialFormats: DidCommCredentialFormatPayload<[CF], 'createOffer'>;
  attachmentId?: string;
}
interface DidCommCredentialFormatAcceptOfferOptions<CF extends DidCommCredentialFormat> {
  credentialExchangeRecord: DidCommCredentialExchangeRecord;
  credentialFormats?: DidCommCredentialFormatPayload<[CF], 'acceptOffer'>;
  attachmentId?: string;
  offerAttachment: DidCommAttachment;
}
interface DidCommCredentialFormatCreateOfferReturn extends DidCommCredentialFormatCreateReturn {
  previewAttributes?: DidCommCredentialPreviewAttributeOptions[];
}
interface DidCommCredentialFormatCreateRequestOptions<CF extends DidCommCredentialFormat> {
  credentialExchangeRecord: DidCommCredentialExchangeRecord;
  credentialFormats: DidCommCredentialFormatPayload<[CF], 'createRequest'>;
}
interface DidCommCredentialFormatAcceptRequestOptions<CF extends DidCommCredentialFormat> {
  credentialExchangeRecord: DidCommCredentialExchangeRecord;
  credentialFormats?: DidCommCredentialFormatPayload<[CF], 'acceptRequest'>;
  attachmentId?: string;
  offerAttachment?: DidCommAttachment;
  requestAttachment: DidCommAttachment;
  requestAppendAttachments?: DidCommAttachment[];
}
interface DidCommCredentialFormatAutoRespondProposalOptions {
  credentialExchangeRecord: DidCommCredentialExchangeRecord;
  proposalAttachment: DidCommAttachment;
  offerAttachment: DidCommAttachment;
}
interface DidCommCredentialFormatAutoRespondOfferOptions {
  credentialExchangeRecord: DidCommCredentialExchangeRecord;
  proposalAttachment: DidCommAttachment;
  offerAttachment: DidCommAttachment;
}
interface DidCommCredentialFormatAutoRespondRequestOptions {
  credentialExchangeRecord: DidCommCredentialExchangeRecord;
  proposalAttachment?: DidCommAttachment;
  offerAttachment: DidCommAttachment;
  requestAttachment: DidCommAttachment;
}
interface DidCommCredentialFormatAutoRespondCredentialOptions {
  credentialExchangeRecord: DidCommCredentialExchangeRecord;
  proposalAttachment?: DidCommAttachment;
  offerAttachment?: DidCommAttachment;
  requestAttachment: DidCommAttachment;
  credentialAttachment: DidCommAttachment;
}
//#endregion
export { DidCommCredentialFormatAcceptOfferOptions, DidCommCredentialFormatAcceptProposalOptions, DidCommCredentialFormatAcceptRequestOptions, DidCommCredentialFormatAutoRespondCredentialOptions, DidCommCredentialFormatAutoRespondOfferOptions, DidCommCredentialFormatAutoRespondProposalOptions, DidCommCredentialFormatAutoRespondRequestOptions, DidCommCredentialFormatCreateOfferOptions, DidCommCredentialFormatCreateOfferReturn, DidCommCredentialFormatCreateProposalOptions, DidCommCredentialFormatCreateProposalReturn, DidCommCredentialFormatCreateRequestOptions, DidCommCredentialFormatCreateReturn, DidCommCredentialFormatProcessCredentialOptions, DidCommCredentialFormatProcessOptions, ExtractCredentialFormat, ExtractCredentialFormats };
//# sourceMappingURL=DidCommCredentialFormatServiceOptions.d.mts.map