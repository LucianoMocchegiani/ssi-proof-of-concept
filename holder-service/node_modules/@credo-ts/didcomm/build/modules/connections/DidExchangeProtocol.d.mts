import { DidCommDidExchangeCompleteMessage } from "./messages/DidCommDidExchangeCompleteMessage.mjs";
import { DidCommDidExchangeRequestMessage } from "./messages/DidCommDidExchangeRequestMessage.mjs";
import { DidCommDidExchangeResponseMessage } from "./messages/DidCommDidExchangeResponseMessage.mjs";
import "./messages/index.mjs";
import { DidCommOutOfBandRecord } from "../oob/repository/DidCommOutOfBandRecord.mjs";
import "../oob/repository/index.mjs";
import { DidCommConnectionService } from "./services/DidCommConnectionService.mjs";
import "./services/index.mjs";
import { DidCommConnectionRecord } from "./repository/DidCommConnectionRecord.mjs";
import "./repository/index.mjs";
import { DidCommInboundMessageContext } from "../../models/DidCommInboundMessageContext.mjs";
import { DidCommRouting } from "../../models/DidCommRouting.mjs";
import "../../models/index.mjs";
import { AgentContext, DidRepository, JwsService, Logger } from "@credo-ts/core";

//#region src/modules/connections/DidExchangeProtocol.d.ts
interface DidExchangeRequestParams {
  label: string;
  alias?: string;
  goal?: string;
  goalCode?: string;
  routing?: DidCommRouting;
  autoAcceptConnection?: boolean;
  ourDid?: string;
}
declare class DidExchangeProtocol {
  private connectionService;
  private jwsService;
  private didRepository;
  private logger;
  constructor(connectionService: DidCommConnectionService, didRepository: DidRepository, jwsService: JwsService, logger: Logger);
  createRequest(agentContext: AgentContext, outOfBandRecord: DidCommOutOfBandRecord, params: DidExchangeRequestParams): Promise<{
    message: DidCommDidExchangeRequestMessage;
    connectionRecord: DidCommConnectionRecord;
  }>;
  processRequest(messageContext: DidCommInboundMessageContext<DidCommDidExchangeRequestMessage>, outOfBandRecord: DidCommOutOfBandRecord): Promise<DidCommConnectionRecord>;
  createResponse(agentContext: AgentContext, connectionRecord: DidCommConnectionRecord, outOfBandRecord: DidCommOutOfBandRecord, routing?: DidCommRouting): Promise<DidCommDidExchangeResponseMessage>;
  processResponse(messageContext: DidCommInboundMessageContext<DidCommDidExchangeResponseMessage>, outOfBandRecord: DidCommOutOfBandRecord): Promise<DidCommConnectionRecord>;
  createComplete(agentContext: AgentContext, connectionRecord: DidCommConnectionRecord, outOfBandRecord: DidCommOutOfBandRecord): Promise<DidCommDidExchangeCompleteMessage>;
  processComplete(messageContext: DidCommInboundMessageContext<DidCommDidExchangeCompleteMessage>, outOfBandRecord: DidCommOutOfBandRecord): Promise<DidCommConnectionRecord>;
  private updateState;
  private createSignedAttachment;
  /**
   * Resolves a did document from a given `request` or `response` message, verifying its signature or did rotate
   * signature in case it is taken from message attachment.
   *
   * @param message DID request or DID response message
   * @param invitationKeys array containing keys from connection invitation that could be used for signing of DID document
   * @returns verified DID document content from message attachment
   */
  private resolveDidDocument;
  /**
   * Extracts DID document from message (resolving it externally if required) and verifies did-rotate attachment signature
   * if applicable
   */
  private extractResolvableDidDocument;
  /**
   * Extracts DID document as is from request or response message attachment and verifies its signature.
   *
   * @param message DID request or DID response message
   * @param invitationKeys array containing keys from connection invitation that could be used for signing of DID document
   * @returns verified DID document content from message attachment
   */
  private extractAttachedDidDocument;
}
//#endregion
export { DidExchangeProtocol };
//# sourceMappingURL=DidExchangeProtocol.d.mts.map