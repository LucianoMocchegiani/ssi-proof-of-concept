{"version":3,"file":"DidCommConnectionResponseMessage.mjs","names":[],"sources":["../../../../src/modules/connections/messages/DidCommConnectionResponseMessage.ts"],"sourcesContent":["import { Expose, Type } from 'class-transformer'\nimport { IsInstance, ValidateNested } from 'class-validator'\n\nimport { DidCommMessage } from '../../../DidCommMessage'\nimport { SignatureDecorator } from '../../../decorators/signature/SignatureDecorator'\nimport { IsValidMessageType, parseMessageType } from '../../../util/messageType'\n\nexport interface DidCommConnectionResponseMessageOptions {\n  id?: string\n  threadId: string\n  connectionSig: SignatureDecorator\n}\n\n/**\n * Message part of connection protocol used to complete the connection\n *\n * @see https://github.com/hyperledger/aries-rfcs/blob/master/features/0160-connection-protocol/README.md#2-connection-response\n */\nexport class DidCommConnectionResponseMessage extends DidCommMessage {\n  public readonly allowDidSovPrefix = true\n\n  /**\n   * Create new ConnectionResponseMessage instance.\n   * @param options\n   */\n  public constructor(options: DidCommConnectionResponseMessageOptions) {\n    super()\n\n    if (options) {\n      this.id = options.id || this.generateId()\n      this.connectionSig = options.connectionSig\n\n      this.setThread({ threadId: options.threadId })\n    }\n  }\n\n  @IsValidMessageType(DidCommConnectionResponseMessage.type)\n  public readonly type = DidCommConnectionResponseMessage.type.messageTypeUri\n  public static readonly type = parseMessageType('https://didcomm.org/connections/1.0/response')\n\n  @Type(() => SignatureDecorator)\n  @ValidateNested()\n  @IsInstance(SignatureDecorator)\n  @Expose({ name: 'connection~sig' })\n  public connectionSig!: SignatureDecorator\n}\n"],"mappings":";;;;;;;;;;;;;;;AAkBA,IAAa,mCAAb,MAAa,yCAAyC,eAAe;;;;;CAOnE,AAAO,YAAY,SAAkD;AACnE,SAAO;OAPO,oBAAoB;OAkBpB,OAAO,iCAAiC,KAAK;AAT3D,MAAI,SAAS;AACX,QAAK,KAAK,QAAQ,MAAM,KAAK,YAAY;AACzC,QAAK,gBAAgB,QAAQ;AAE7B,QAAK,UAAU,EAAE,UAAU,QAAQ,UAAU,CAAC;;;;iCAM3B,OAAO,iBAAiB,+CAA+C;YAF7F,mBAAmB,iCAAiC,KAAK;;CAIzD,WAAW,mBAAmB;CAC9B,gBAAgB;CAChB,WAAW,mBAAmB;CAC9B,OAAO,EAAE,MAAM,kBAAkB,CAAC"}