{"version":3,"file":"DidCommDidExchangeResponseMessage.mjs","names":[],"sources":["../../../../src/modules/connections/messages/DidCommDidExchangeResponseMessage.ts"],"sourcesContent":["import { Expose, Type } from 'class-transformer'\nimport { IsOptional, IsString, ValidateNested } from 'class-validator'\n\nimport { DidCommMessage } from '../../../DidCommMessage'\nimport { DidCommAttachment } from '../../../decorators/attachment/DidCommAttachment'\nimport { IsValidMessageType, parseMessageType } from '../../../util/messageType'\n\nexport interface DidCommDidExchangeResponseMessageOptions {\n  id?: string\n  threadId: string\n  did: string\n}\n\n/**\n * Message part of connection protocol used to complete the connection\n *\n * @see https://github.com/hyperledger/aries-rfcs/blob/main/features/0023-did-exchange/README.md#2-exchange-response\n */\nexport class DidCommDidExchangeResponseMessage extends DidCommMessage {\n  /**\n   * Create new DidExchangeResponseMessage instance.\n   * @param options\n   */\n  public constructor(options: DidCommDidExchangeResponseMessageOptions) {\n    super()\n\n    if (options) {\n      this.id = options.id || this.generateId()\n      this.did = options.did\n\n      this.setThread({\n        threadId: options.threadId,\n      })\n    }\n  }\n\n  @IsValidMessageType(DidCommDidExchangeResponseMessage.type)\n  public readonly type = DidCommDidExchangeResponseMessage.type.messageTypeUri\n  public static readonly type = parseMessageType('https://didcomm.org/didexchange/1.1/response')\n\n  @IsString()\n  public readonly did!: string\n\n  @Expose({ name: 'did_doc~attach' })\n  @IsOptional()\n  @Type(() => DidCommAttachment)\n  @ValidateNested()\n  public didDoc?: DidCommAttachment\n\n  @Expose({ name: 'did_rotate~attach' })\n  @IsOptional()\n  @Type(() => DidCommAttachment)\n  @ValidateNested()\n  public didRotate?: DidCommAttachment\n}\n"],"mappings":";;;;;;;;;;;;;;;AAkBA,IAAa,oCAAb,MAAa,0CAA0C,eAAe;;;;;CAKpE,AAAO,YAAY,SAAmD;AACpE,SAAO;OAaO,OAAO,kCAAkC,KAAK;AAX5D,MAAI,SAAS;AACX,QAAK,KAAK,QAAQ,MAAM,KAAK,YAAY;AACzC,QAAK,MAAM,QAAQ;AAEnB,QAAK,UAAU,EACb,UAAU,QAAQ,UACnB,CAAC;;;;kCAMiB,OAAO,iBAAiB,+CAA+C;YAF7F,mBAAmB,kCAAkC,KAAK;YAI1D,UAAU;;CAGV,OAAO,EAAE,MAAM,kBAAkB,CAAC;CAClC,YAAY;CACZ,WAAW,kBAAkB;CAC7B,gBAAgB;;;;CAGhB,OAAO,EAAE,MAAM,qBAAqB,CAAC;CACrC,YAAY;CACZ,WAAW,kBAAkB;CAC7B,gBAAgB"}