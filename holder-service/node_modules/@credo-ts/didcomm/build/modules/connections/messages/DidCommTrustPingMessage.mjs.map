{"version":3,"file":"DidCommTrustPingMessage.mjs","names":[],"sources":["../../../../src/modules/connections/messages/DidCommTrustPingMessage.ts"],"sourcesContent":["import { Expose } from 'class-transformer'\nimport { IsBoolean, IsOptional, IsString } from 'class-validator'\nimport { DidCommMessage } from '../../../DidCommMessage'\nimport type { TimingDecorator } from '../../../decorators/timing/TimingDecorator'\nimport { IsValidMessageType, parseMessageType } from '../../../util/messageType'\n\nexport interface DidCommTrustPingMessageOptions {\n  comment?: string\n  id?: string\n  responseRequested?: boolean\n  timing?: Pick<TimingDecorator, 'outTime' | 'expiresTime' | 'delayMilli'>\n}\n\n/**\n * Message to initiate trust ping interaction\n *\n * @see https://github.com/hyperledger/aries-rfcs/blob/master/features/0048-trust-ping/README.md#messages\n */\nexport class DidCommTrustPingMessage extends DidCommMessage {\n  public readonly allowDidSovPrefix = true\n\n  /**\n   * Create new TrustPingMessage instance.\n   * responseRequested will be true if not passed\n   * @param options\n   */\n  public constructor(options: DidCommTrustPingMessageOptions) {\n    super()\n\n    if (options) {\n      this.id = options.id || this.generateId()\n      this.comment = options.comment\n      this.responseRequested = options.responseRequested !== undefined ? options.responseRequested : true\n\n      if (options.timing) {\n        this.setTiming({\n          outTime: options.timing.outTime,\n          expiresTime: options.timing.expiresTime,\n          delayMilli: options.timing.delayMilli,\n        })\n      }\n    }\n  }\n\n  @IsValidMessageType(DidCommTrustPingMessage.type)\n  public readonly type = DidCommTrustPingMessage.type.messageTypeUri\n  public static readonly type = parseMessageType('https://didcomm.org/trust_ping/1.0/ping')\n\n  @IsString()\n  @IsOptional()\n  public comment?: string\n\n  @IsBoolean()\n  @Expose({ name: 'response_requested' })\n  public responseRequested = true\n}\n"],"mappings":";;;;;;;;;;;;;AAkBA,IAAa,0BAAb,MAAa,gCAAgC,eAAe;;;;;;CAQ1D,AAAO,YAAY,SAAyC;AAC1D,SAAO;OARO,oBAAoB;OA0BpB,OAAO,wBAAwB,KAAK;OAS7C,oBAAoB;AAzBzB,MAAI,SAAS;AACX,QAAK,KAAK,QAAQ,MAAM,KAAK,YAAY;AACzC,QAAK,UAAU,QAAQ;AACvB,QAAK,oBAAoB,QAAQ,sBAAsB,SAAY,QAAQ,oBAAoB;AAE/F,OAAI,QAAQ,OACV,MAAK,UAAU;IACb,SAAS,QAAQ,OAAO;IACxB,aAAa,QAAQ,OAAO;IAC5B,YAAY,QAAQ,OAAO;IAC5B,CAAC;;;;wBAOe,OAAO,iBAAiB,0CAA0C;YAFxF,mBAAmB,wBAAwB,KAAK;;CAIhD,UAAU;CACV,YAAY;;;;CAGZ,WAAW;CACX,OAAO,EAAE,MAAM,sBAAsB,CAAC"}