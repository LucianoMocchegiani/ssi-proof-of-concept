{"version":3,"file":"DidCommDidRotateHandler.mjs","names":[],"sources":["../../../../src/modules/connections/handlers/DidCommDidRotateHandler.ts"],"sourcesContent":["import { CredoError } from '@credo-ts/core'\nimport type { DidCommMessageHandler, DidCommMessageHandlerInboundMessage } from '../../../handlers'\nimport { DidCommDidRotateMessage } from '../messages'\nimport type { DidCommDidRotateService } from '../services'\n\nexport class DidCommDidRotateHandler implements DidCommMessageHandler {\n  private didRotateService: DidCommDidRotateService\n  public supportedMessages = [DidCommDidRotateMessage]\n\n  public constructor(didRotateService: DidCommDidRotateService) {\n    this.didRotateService = didRotateService\n  }\n\n  public async handle(messageContext: DidCommMessageHandlerInboundMessage<DidCommDidRotateHandler>) {\n    const { connection, recipientKey } = messageContext\n    if (!connection) {\n      throw new CredoError(`Connection for verkey ${recipientKey?.fingerprint} not found!`)\n    }\n\n    return this.didRotateService.processRotate(messageContext)\n  }\n}\n"],"mappings":";;;;;AAKA,IAAa,0BAAb,MAAsE;CAIpE,AAAO,YAAY,kBAA2C;OAFvD,oBAAoB,CAAC,wBAAwB;AAGlD,OAAK,mBAAmB;;CAG1B,MAAa,OAAO,gBAA8E;EAChG,MAAM,EAAE,YAAY,iBAAiB;AACrC,MAAI,CAAC,WACH,OAAM,IAAI,WAAW,yBAAyB,cAAc,YAAY,aAAa;AAGvF,SAAO,KAAK,iBAAiB,cAAc,eAAe"}