import { DidCommOutOfBandRole } from "../domain/DidCommOutOfBandRole.mjs";
import { DidCommOutOfBandState } from "../domain/DidCommOutOfBandState.mjs";
import { DidCommOutOfBandInvitation } from "../messages/DidCommOutOfBandInvitation.mjs";
import "../messages/index.mjs";
import { DidCommOutOfBandRecordMetadata } from "./outOfBandRecordMetadataTypes.mjs";
import { BaseRecord, TagsBase } from "@credo-ts/core";

//#region src/modules/oob/repository/DidCommOutOfBandRecord.d.ts
interface DidCommOutOfBandInlineServiceKey {
  recipientKeyFingerprint: string;
  kmsKeyId: string;
}
type DefaultDidCommOutOfBandRecordTags = {
  role: DidCommOutOfBandRole;
  state: DidCommOutOfBandState;
  invitationId: string;
  threadId?: string;
  /**
   * The thread ids from the attached request messages from the out
   * of band invitation.
   */
  invitationRequestsThreadIds?: string[];
};
interface CustomDidCommOutOfBandRecordTags extends TagsBase {
  /**
   * The fingerprints of the recipient keys from the out of band invitation.
   * When we created the invitation this will be our keys, when we received this
   * invitation it will be the other parties' keys.
   */
  recipientKeyFingerprints: string[];
  /**
   * The fingerprint from the {@link OutOfBandRecordMetadataKeys.RecipientRouting} recipient key.
   *
   * This will always be a key from our recipient
   */
  recipientRoutingKeyFingerprint?: string;
}
interface DidCommOutOfBandRecordProps {
  id?: string;
  createdAt?: Date;
  updatedAt?: Date;
  tags?: CustomDidCommOutOfBandRecordTags;
  outOfBandInvitation: DidCommOutOfBandInvitation;
  role: DidCommOutOfBandRole;
  state: DidCommOutOfBandState;
  alias?: string;
  autoAcceptConnection?: boolean;
  reusable?: boolean;
  mediatorId?: string;
  reuseConnectionId?: string;
  threadId?: string;
  /**
   * The keys associated with the inline services of the out of band invitation
   */
  invitationInlineServiceKeys?: DidCommOutOfBandInlineServiceKey[];
}
declare class DidCommOutOfBandRecord extends BaseRecord<DefaultDidCommOutOfBandRecordTags, CustomDidCommOutOfBandRecordTags, DidCommOutOfBandRecordMetadata> {
  outOfBandInvitation: DidCommOutOfBandInvitation;
  role: DidCommOutOfBandRole;
  state: DidCommOutOfBandState;
  alias?: string;
  reusable: boolean;
  autoAcceptConnection?: boolean;
  mediatorId?: string;
  reuseConnectionId?: string;
  /**
   * The keys associated with the inline services of the out of band invitation
   */
  invitationInlineServiceKeys?: Array<DidCommOutOfBandInlineServiceKey>;
  static readonly type = "OutOfBandRecord";
  readonly type = "OutOfBandRecord";
  constructor(props: DidCommOutOfBandRecordProps);
  getTags(): {
    role: DidCommOutOfBandRole;
    state: DidCommOutOfBandState;
    invitationId: string;
    threadId: string;
    invitationRequestsThreadIds: string[] | undefined;
    /**
     * The fingerprints of the recipient keys from the out of band invitation.
     * When we created the invitation this will be our keys, when we received this
     * invitation it will be the other parties' keys.
     */
    recipientKeyFingerprints: string[];
    /**
     * The fingerprint from the {@link OutOfBandRecordMetadataKeys.RecipientRouting} recipient key.
     *
     * This will always be a key from our recipient
     */
    recipientRoutingKeyFingerprint?: string;
  };
  assertRole(expectedRole: DidCommOutOfBandRole): void;
  assertState(expectedStates: DidCommOutOfBandState | DidCommOutOfBandState[]): void;
}
//#endregion
export { DidCommOutOfBandInlineServiceKey, DidCommOutOfBandRecord, DidCommOutOfBandRecordProps };
//# sourceMappingURL=DidCommOutOfBandRecord.d.mts.map