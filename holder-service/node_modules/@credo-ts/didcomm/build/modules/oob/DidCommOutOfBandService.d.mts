import { DidCommHandshakeProtocol } from "../connections/models/DidCommHandshakeProtocol.mjs";
import { DidCommDocumentService } from "../../services/DidCommDocumentService.mjs";
import { DidCommOutOfBandState } from "./domain/DidCommOutOfBandState.mjs";
import { DidCommHandshakeReuseAcceptedMessage } from "./messages/DidCommHandshakeReuseAcceptedMessage.mjs";
import { DidCommHandshakeReuseMessage } from "./messages/DidCommHandshakeReuseMessage.mjs";
import { OutOfBandDidCommService } from "./domain/OutOfBandDidCommService.mjs";
import "./messages/index.mjs";
import { DidCommOutOfBandInlineServiceKey, DidCommOutOfBandRecord } from "./repository/DidCommOutOfBandRecord.mjs";
import { DidCommOutOfBandRepository } from "./repository/DidCommOutOfBandRepository.mjs";
import "./repository/index.mjs";
import "../../services/index.mjs";
import "./domain/index.mjs";
import "../connections/index.mjs";
import { DidCommConnectionRecord } from "../connections/repository/DidCommConnectionRecord.mjs";
import { DidCommInboundMessageContext } from "../../models/DidCommInboundMessageContext.mjs";
import "../../models/index.mjs";
import * as _credo_ts_core1 from "@credo-ts/core";
import { AgentContext, EventEmitter, Kms, Query, QueryOptions } from "@credo-ts/core";

//#region src/modules/oob/DidCommOutOfBandService.d.ts
interface CreateFromImplicitInvitationConfig {
  did: string;
  threadId: string;
  handshakeProtocols: DidCommHandshakeProtocol[];
  autoAcceptConnection?: boolean;
  recipientKey: Kms.PublicJwk<Kms.Ed25519PublicJwk>;
}
declare class DidCommOutOfBandService {
  private outOfBandRepository;
  private eventEmitter;
  private didCommDocumentService;
  constructor(outOfBandRepository: DidCommOutOfBandRepository, eventEmitter: EventEmitter, didCommDocumentService: DidCommDocumentService);
  /**
   * Creates an Out of Band record from a Connection/DIDExchange request started by using
   * a publicly resolvable DID this agent can control
   */
  createFromImplicitInvitation(agentContext: AgentContext, config: CreateFromImplicitInvitationConfig): Promise<DidCommOutOfBandRecord>;
  processHandshakeReuse(messageContext: DidCommInboundMessageContext<DidCommHandshakeReuseMessage>): Promise<DidCommHandshakeReuseAcceptedMessage>;
  processHandshakeReuseAccepted(messageContext: DidCommInboundMessageContext<DidCommHandshakeReuseAcceptedMessage>): Promise<void>;
  createHandShakeReuse(agentContext: AgentContext, outOfBandRecord: DidCommOutOfBandRecord, connectionRecord: DidCommConnectionRecord): Promise<DidCommHandshakeReuseMessage>;
  save(agentContext: AgentContext, outOfBandRecord: DidCommOutOfBandRecord): Promise<void>;
  updateState(agentContext: AgentContext, outOfBandRecord: DidCommOutOfBandRecord, newState: DidCommOutOfBandState): Promise<void>;
  emitStateChangedEvent(agentContext: AgentContext, outOfBandRecord: DidCommOutOfBandRecord, previousState: DidCommOutOfBandState | null): void;
  findById(agentContext: AgentContext, outOfBandRecordId: string): Promise<DidCommOutOfBandRecord | null>;
  getById(agentContext: AgentContext, outOfBandRecordId: string): Promise<DidCommOutOfBandRecord>;
  findByReceivedInvitationId(agentContext: AgentContext, receivedInvitationId: string): Promise<DidCommOutOfBandRecord | null>;
  findByCreatedInvitationId(agentContext: AgentContext, createdInvitationId: string, threadId?: string): Promise<DidCommOutOfBandRecord | null>;
  findCreatedByRecipientKey(agentContext: AgentContext, recipientKey: Kms.PublicJwk<Kms.Ed25519PublicJwk>): Promise<DidCommOutOfBandRecord | null>;
  getAll(agentContext: AgentContext): Promise<DidCommOutOfBandRecord[]>;
  findAllByQuery(agentContext: AgentContext, query: Query<DidCommOutOfBandRecord>, queryOptions?: QueryOptions): Promise<DidCommOutOfBandRecord[]>;
  deleteById(agentContext: AgentContext, outOfBandId: string): Promise<void>;
  /**
   * Extract a resolved didcomm service from an out of band invitation.
   *
   * Currently the first service that can be resolved is returned.
   */
  getResolvedServiceForOutOfBandServices(agentContext: AgentContext, services: Array<string | OutOfBandDidCommService>,
  /**
   * Optional keys for the inline services
   */

  inlineServiceKeys?: DidCommOutOfBandInlineServiceKey[]): Promise<_credo_ts_core1.ResolvedDidCommService>;
}
//#endregion
export { CreateFromImplicitInvitationConfig, DidCommOutOfBandService };
//# sourceMappingURL=DidCommOutOfBandService.d.mts.map