{"version":3,"file":"DidCommMediationGrantMessage.mjs","names":[],"sources":["../../../../src/modules/routing/messages/DidCommMediationGrantMessage.ts"],"sourcesContent":["import { Expose } from 'class-transformer'\nimport { IsArray, IsNotEmpty, IsString } from 'class-validator'\n\nimport { DidCommMessage } from '../../../DidCommMessage'\nimport { IsValidMessageType, parseMessageType } from '../../../util/messageType'\n\nexport interface DidCommMediationGrantMessageOptions {\n  id?: string\n  endpoint: string\n  routingKeys: string[]\n  threadId: string\n}\n\n/**\n * A route grant message is a signal from the mediator to the recipient that permission is given to distribute the\n * included information as an inbound route.\n *\n * @see https://github.com/hyperledger/aries-rfcs/blob/master/features/0211-route-coordination/README.md#mediation-grant\n */\nexport class DidCommMediationGrantMessage extends DidCommMessage {\n  public constructor(options: DidCommMediationGrantMessageOptions) {\n    super()\n\n    if (options) {\n      this.id = options.id ?? this.generateId()\n      this.endpoint = options.endpoint\n      this.routingKeys = options.routingKeys\n      this.setThread({\n        threadId: options.threadId,\n      })\n    }\n  }\n\n  @IsValidMessageType(DidCommMediationGrantMessage.type)\n  public readonly type = DidCommMediationGrantMessage.type.messageTypeUri\n  public static readonly type = parseMessageType('https://didcomm.org/coordinate-mediation/1.0/mediate-grant')\n\n  @IsNotEmpty()\n  @IsArray()\n  @Expose({ name: 'routing_keys' })\n  public routingKeys!: string[]\n\n  @IsNotEmpty()\n  @IsString()\n  public endpoint!: string\n}\n"],"mappings":";;;;;;;;;;;;;;AAmBA,IAAa,+BAAb,MAAa,qCAAqC,eAAe;CAC/D,AAAO,YAAY,SAA8C;AAC/D,SAAO;OAaO,OAAO,6BAA6B,KAAK;AAXvD,MAAI,SAAS;AACX,QAAK,KAAK,QAAQ,MAAM,KAAK,YAAY;AACzC,QAAK,WAAW,QAAQ;AACxB,QAAK,cAAc,QAAQ;AAC3B,QAAK,UAAU,EACb,UAAU,QAAQ,UACnB,CAAC;;;;6BAMiB,OAAO,iBAAiB,6DAA6D;YAF3G,mBAAmB,6BAA6B,KAAK;;CAIrD,YAAY;CACZ,SAAS;CACT,OAAO,EAAE,MAAM,gBAAgB,CAAC;;;;CAGhC,YAAY;CACZ,UAAU"}