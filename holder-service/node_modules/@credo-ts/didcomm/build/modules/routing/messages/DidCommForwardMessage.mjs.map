{"version":3,"file":"DidCommForwardMessage.mjs","names":[],"sources":["../../../../src/modules/routing/messages/DidCommForwardMessage.ts"],"sourcesContent":["import { Expose } from 'class-transformer'\nimport { IsObject, IsString } from 'class-validator'\n\nimport { DidCommMessage } from '../../../DidCommMessage'\nimport type { DidCommEncryptedMessage } from '../../../types'\nimport { IsValidMessageType, parseMessageType } from '../../../util/messageType'\n\nexport interface DidCommForwardMessageOptions {\n  id?: string\n  to: string\n  message: DidCommEncryptedMessage\n}\n\n/**\n * @see https://github.com/hyperledger/aries-rfcs/blob/master/concepts/0094-cross-domain-messaging/README.md#corerouting10forward\n */\nexport class DidCommForwardMessage extends DidCommMessage {\n  public readonly allowDidSovPrefix = true\n\n  /**\n   * Create new ForwardMessage instance.\n   *\n   * @param options\n   */\n  public constructor(options: DidCommForwardMessageOptions) {\n    super()\n\n    if (options) {\n      this.id = options.id || this.generateId()\n      this.to = options.to\n      this.message = options.message\n    }\n  }\n\n  @IsValidMessageType(DidCommForwardMessage.type)\n  public readonly type = DidCommForwardMessage.type.messageTypeUri\n  public static readonly type = parseMessageType('https://didcomm.org/routing/1.0/forward')\n\n  @IsString()\n  public to!: string\n\n  @Expose({ name: 'msg' })\n  @IsObject()\n  public message!: DidCommEncryptedMessage\n}\n"],"mappings":";;;;;;;;;;;AAgBA,IAAa,wBAAb,MAAa,8BAA8B,eAAe;;;;;;CAQxD,AAAO,YAAY,SAAuC;AACxD,SAAO;OARO,oBAAoB;OAkBpB,OAAO,sBAAsB,KAAK;AARhD,MAAI,SAAS;AACX,QAAK,KAAK,QAAQ,MAAM,KAAK,YAAY;AACzC,QAAK,KAAK,QAAQ;AAClB,QAAK,UAAU,QAAQ;;;;sBAMJ,OAAO,iBAAiB,0CAA0C;YAFxF,mBAAmB,sBAAsB,KAAK;YAI9C,UAAU;;CAGV,OAAO,EAAE,MAAM,OAAO,CAAC;CACvB,UAAU"}