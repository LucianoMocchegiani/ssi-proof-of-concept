{"version":3,"file":"DidCommMediationRepository.mjs","names":[],"sources":["../../../../src/modules/routing/repository/DidCommMediationRepository.ts"],"sourcesContent":["import type { AgentContext } from '@credo-ts/core'\n\nimport { EventEmitter, InjectionSymbols, inject, injectable, Repository, type StorageService } from '@credo-ts/core'\n\nimport { DidCommMediationRecord } from './DidCommMediationRecord'\n\n@injectable()\nexport class DidCommMediationRepository extends Repository<DidCommMediationRecord> {\n  public constructor(\n    @inject(InjectionSymbols.StorageService) storageService: StorageService<DidCommMediationRecord>,\n    eventEmitter: EventEmitter\n  ) {\n    super(DidCommMediationRecord, storageService, eventEmitter)\n  }\n\n  public getSingleByRecipientKey(agentContext: AgentContext, recipientKey: string) {\n    return this.getSingleByQuery(agentContext, {\n      recipientKeys: [recipientKey],\n    })\n  }\n\n  public async getByConnectionId(agentContext: AgentContext, connectionId: string): Promise<DidCommMediationRecord> {\n    return this.getSingleByQuery(agentContext, { connectionId })\n  }\n}\n"],"mappings":";;;;;;;;AAOO,uCAAM,mCAAmC,WAAmC;CACjF,AAAO,YACL,AAAyC,gBACzC,cACA;AACA,QAAM,wBAAwB,gBAAgB,aAAa;;CAG7D,AAAO,wBAAwB,cAA4B,cAAsB;AAC/E,SAAO,KAAK,iBAAiB,cAAc,EACzC,eAAe,CAAC,aAAa,EAC9B,CAAC;;CAGJ,MAAa,kBAAkB,cAA4B,cAAuD;AAChH,SAAO,KAAK,iBAAiB,cAAc,EAAE,cAAc,CAAC;;;;CAhB/D,YAAY;oBAGR,OAAO,iBAAiB,eAAe"}