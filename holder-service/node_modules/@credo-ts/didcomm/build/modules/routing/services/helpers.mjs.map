{"version":3,"file":"helpers.mjs","names":[],"sources":["../../../../src/modules/routing/services/helpers.ts"],"sourcesContent":["import { type AgentContext, type DidDocument, TypedArrayEncoder } from '@credo-ts/core'\n\nimport { DidCommMediationRecipientService } from './DidCommMediationRecipientService'\n\nexport async function getMediationRecordForDidDocument(agentContext: AgentContext, didDocument: DidDocument) {\n  const [mediatorRecord] = await agentContext\n    .resolve(DidCommMediationRecipientService)\n    .findAllMediatorsByQuery(agentContext, {\n      recipientKeys: didDocument.recipientKeys.map((key) => TypedArrayEncoder.toBase58(key.publicKey.publicKey)),\n    })\n  return mediatorRecord\n}\n"],"mappings":";;;;AAIA,eAAsB,iCAAiC,cAA4B,aAA0B;CAC3G,MAAM,CAAC,kBAAkB,MAAM,aAC5B,QAAQ,iCAAiC,CACzC,wBAAwB,cAAc,EACrC,eAAe,YAAY,cAAc,KAAK,QAAQ,kBAAkB,SAAS,IAAI,UAAU,UAAU,CAAC,EAC3G,CAAC;AACJ,QAAO"}