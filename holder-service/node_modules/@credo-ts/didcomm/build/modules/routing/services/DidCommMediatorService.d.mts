import { DidCommConnectionService } from "../../connections/services/DidCommConnectionService.mjs";
import "../../connections/services/index.mjs";
import { DidCommForwardMessage } from "../messages/DidCommForwardMessage.mjs";
import { DidCommKeylistUpdateMessage } from "../messages/DidCommKeylistUpdateMessage.mjs";
import { DidCommKeylistUpdateResponseMessage } from "../messages/DidCommKeylistUpdateResponseMessage.mjs";
import { DidCommMediationGrantMessage } from "../messages/DidCommMediationGrantMessage.mjs";
import { DidCommMediationRequestMessage } from "../messages/DidCommMediationRequestMessage.mjs";
import "../messages/index.mjs";
import { DidCommMediationRecord } from "../repository/DidCommMediationRecord.mjs";
import { DidCommMediationRepository } from "../repository/DidCommMediationRepository.mjs";
import { DidCommMediatorRoutingRecord } from "../repository/DidCommMediatorRoutingRecord.mjs";
import { DidCommMediatorRoutingRepository } from "../repository/DidCommMediatorRoutingRepository.mjs";
import "../repository/index.mjs";
import { DidCommInboundMessageContext } from "../../../models/DidCommInboundMessageContext.mjs";
import "../../../models/index.mjs";
import { AgentContext, EventEmitter, Logger, Query, QueryOptions } from "@credo-ts/core";

//#region src/modules/routing/services/DidCommMediatorService.d.ts
declare class DidCommMediatorService {
  private logger;
  private mediationRepository;
  private mediatorRoutingRepository;
  private eventEmitter;
  private connectionService;
  constructor(mediationRepository: DidCommMediationRepository, mediatorRoutingRepository: DidCommMediatorRoutingRepository, eventEmitter: EventEmitter, logger: Logger, connectionService: DidCommConnectionService);
  private getRoutingKeys;
  processForwardMessage(messageContext: DidCommInboundMessageContext<DidCommForwardMessage>): Promise<void>;
  processKeylistUpdateRequest(messageContext: DidCommInboundMessageContext<DidCommKeylistUpdateMessage>): Promise<DidCommKeylistUpdateResponseMessage>;
  createGrantMediationMessage(agentContext: AgentContext, mediationRecord: DidCommMediationRecord): Promise<{
    mediationRecord: DidCommMediationRecord;
    message: DidCommMediationGrantMessage;
  }>;
  processMediationRequest(messageContext: DidCommInboundMessageContext<DidCommMediationRequestMessage>): Promise<DidCommMediationRecord>;
  findById(agentContext: AgentContext, mediatorRecordId: string): Promise<DidCommMediationRecord | null>;
  getById(agentContext: AgentContext, mediatorRecordId: string): Promise<DidCommMediationRecord>;
  getAll(agentContext: AgentContext): Promise<DidCommMediationRecord[]>;
  findMediatorRoutingRecord(agentContext: AgentContext): Promise<DidCommMediatorRoutingRecord | null>;
  createMediatorRoutingRecord(agentContext: AgentContext): Promise<DidCommMediatorRoutingRecord | null>;
  findAllByQuery(agentContext: AgentContext, query: Query<DidCommMediationRecord>, queryOptions?: QueryOptions): Promise<DidCommMediationRecord[]>;
  private updateState;
  private emitStateChangedEvent;
  private updateUseDidKeysFlag;
}
//#endregion
export { DidCommMediatorService };
//# sourceMappingURL=DidCommMediatorService.d.mts.map