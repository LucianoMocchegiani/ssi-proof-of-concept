import { DidCommMessage } from "../../../DidCommMessage.mjs";
import { DidCommAutoAcceptProof } from "../models/DidCommProofAutoAcceptType.mjs";
import { DidCommProofExchangeRecord } from "../repository/DidCommProofExchangeRecord.mjs";
import "../repository/index.mjs";
import { DidCommProofFormat, DidCommProofFormatCredentialForRequestPayload, DidCommProofFormatPayload } from "../formats/DidCommProofFormat.mjs";
import { ExtractProofFormats } from "../formats/DidCommProofFormatServiceOptions.mjs";
import { DidCommProofFormatService } from "../formats/DidCommProofFormatService.mjs";
import "../formats/index.mjs";
import { DidCommProofProtocol } from "./DidCommProofProtocol.mjs";
import "../../connections/index.mjs";
import { DidCommConnectionRecord } from "../../connections/repository/DidCommConnectionRecord.mjs";

//#region src/modules/proofs/protocol/DidCommProofProtocolOptions.d.ts
declare namespace DidCommProofProtocolOptions_d_exports {
  export { AcceptPresentationOptions, AcceptProofProposalOptions, AcceptProofRequestOptions, CreateProofProblemReportOptions, CreateProofProposalOptions, CreateProofRequestOptions, DeleteProofOptions, GetCredentialsForRequestOptions, GetCredentialsForRequestReturn, GetProofFormatDataReturn, NegotiateProofProposalOptions, NegotiateProofRequestOptions, ProofFormatDataMessagePayload, ProofFormatsFromProtocols, ProofProtocolMsgReturnType, SelectCredentialsForRequestOptions, SelectCredentialsForRequestReturn };
}
/**
 * Get the format data payload for a specific message from a list of ProofFormat interfaces and a message
 *
 * For an indy offer, this resolves to the proof request format as defined here:
 * https://github.com/hyperledger/aries-rfcs/tree/b3a3942ef052039e73cd23d847f42947f8287da2/features/0592-indy-attachments#proof-request-format
 *
 * @example
 * ```
 *
 * type RequestFormatData = ProofFormatDataMessagePayload<[IndyProofFormat, PresentationExchangeProofFormat], 'createRequest'>
 *
 * // equal to
 * type RequestFormatData = {
 *  indy: {
 *   // ... payload for indy proof request attachment as defined in RFC 0592 ...
 *  },
 *  presentationExchange: {
 *   // ... payload for presentation exchange request attachment as defined in RFC 0510 ...
 *  }
 * }
 * ```
 */
type ProofFormatDataMessagePayload<CFs extends DidCommProofFormat[] = DidCommProofFormat[], M extends keyof DidCommProofFormat['formatData'] = keyof DidCommProofFormat['formatData']> = { [ProofFormat in CFs[number] as ProofFormat['formatKey']]?: ProofFormat['formatData'][M] };
/**
 * Infer the {@link DidCommProofFormat} types based on an array of {@link DidCommProofProtocol} types.
 *
 * It does this by extracting the `ProofFormatServices` generic from the `DidCommProofProtocol`, and
 * then extracting the `ProofFormat` generic from each of the `ProofFormatService` types.
 *
 * @example
 * ```
 * // TheProofFormatServices is now equal to [IndyProofFormatService]
 * type TheProofFormatServices = ProofFormatsFromProtocols<[DidCommProofV1Protocol]>
 * ```
 *
 * Because the `DidCommProofV1Protocol` is defined as follows:
 * ```
 * class DidCommProofV1Protocol implements DidCommProofProtocol<[IndyProofFormatService]> {
 * }
 * ```
 */
type ProofFormatsFromProtocols<Type extends DidCommProofProtocol[]> = Type[number] extends DidCommProofProtocol<infer ProofFormatServices> ? ProofFormatServices extends DidCommProofFormatService[] ? ExtractProofFormats<ProofFormatServices> : never : never;
type GetProofFormatDataReturn<PFs extends DidCommProofFormat[] = DidCommProofFormat[]> = {
  proposal?: ProofFormatDataMessagePayload<PFs, 'proposal'>;
  request?: ProofFormatDataMessagePayload<PFs, 'request'>;
  presentation?: ProofFormatDataMessagePayload<PFs, 'presentation'>;
};
interface BaseOptions {
  comment?: string;
  autoAcceptProof?: DidCommAutoAcceptProof;
  /**
   * Will be ignored for v1 protocol as it is not supported
   */
  goalCode?: string;
  /**
   * Will be ignored for v1 protocol as it is not supported
   */
  goal?: string;
}
interface CreateProofProposalOptions<PFs extends DidCommProofFormatService[]> extends BaseOptions {
  connectionRecord?: DidCommConnectionRecord;
  proofFormats: DidCommProofFormatPayload<ExtractProofFormats<PFs>, 'createProposal'>;
  parentThreadId?: string;
}
interface AcceptProofProposalOptions<PFs extends DidCommProofFormatService[]> extends BaseOptions {
  proofRecord: DidCommProofExchangeRecord;
  proofFormats?: DidCommProofFormatPayload<ExtractProofFormats<PFs>, 'acceptProposal'>;
  /** @default true */
  willConfirm?: boolean;
}
interface NegotiateProofProposalOptions<PFs extends DidCommProofFormatService[]> extends BaseOptions {
  proofRecord: DidCommProofExchangeRecord;
  proofFormats: DidCommProofFormatPayload<ExtractProofFormats<PFs>, 'createRequest'>;
  /** @default true */
  willConfirm?: boolean;
}
interface CreateProofRequestOptions<PFs extends DidCommProofFormatService[]> extends BaseOptions {
  connectionRecord?: DidCommConnectionRecord;
  proofFormats: DidCommProofFormatPayload<ExtractProofFormats<PFs>, 'createRequest'>;
  parentThreadId?: string;
  /** @default true */
  willConfirm?: boolean;
}
interface AcceptProofRequestOptions<PFs extends DidCommProofFormatService[]> extends BaseOptions {
  proofRecord: DidCommProofExchangeRecord;
  proofFormats?: DidCommProofFormatPayload<ExtractProofFormats<PFs>, 'acceptRequest'>;
}
interface NegotiateProofRequestOptions<PFs extends DidCommProofFormatService[]> extends BaseOptions {
  proofRecord: DidCommProofExchangeRecord;
  proofFormats: DidCommProofFormatPayload<ExtractProofFormats<PFs>, 'createProposal'>;
}
interface GetCredentialsForRequestOptions<PFs extends DidCommProofFormatService[]> {
  proofRecord: DidCommProofExchangeRecord;
  proofFormats?: DidCommProofFormatCredentialForRequestPayload<ExtractProofFormats<PFs>, 'getCredentialsForRequest', 'input'>;
}
interface GetCredentialsForRequestReturn<PFs extends DidCommProofFormatService[]> {
  proofFormats: DidCommProofFormatCredentialForRequestPayload<ExtractProofFormats<PFs>, 'getCredentialsForRequest', 'output'>;
}
interface SelectCredentialsForRequestOptions<PFs extends DidCommProofFormatService[]> {
  proofRecord: DidCommProofExchangeRecord;
  proofFormats?: DidCommProofFormatCredentialForRequestPayload<ExtractProofFormats<PFs>, 'selectCredentialsForRequest', 'input'>;
}
interface SelectCredentialsForRequestReturn<PFs extends DidCommProofFormatService[]> {
  proofFormats: DidCommProofFormatCredentialForRequestPayload<ExtractProofFormats<PFs>, 'selectCredentialsForRequest', 'output'>;
}
interface AcceptPresentationOptions {
  proofRecord: DidCommProofExchangeRecord;
}
interface CreateProofProblemReportOptions {
  proofRecord: DidCommProofExchangeRecord;
  description: string;
}
interface ProofProtocolMsgReturnType<MessageType extends DidCommMessage> {
  message: MessageType;
  proofRecord: DidCommProofExchangeRecord;
}
interface DeleteProofOptions {
  deleteAssociatedDidCommMessages?: boolean;
}
//#endregion
export { AcceptPresentationOptions, AcceptProofProposalOptions, AcceptProofRequestOptions, CreateProofProblemReportOptions, CreateProofProposalOptions, CreateProofRequestOptions, DeleteProofOptions, DidCommProofProtocolOptions_d_exports, GetCredentialsForRequestOptions, GetCredentialsForRequestReturn, GetProofFormatDataReturn, NegotiateProofProposalOptions, NegotiateProofRequestOptions, ProofFormatsFromProtocols, ProofProtocolMsgReturnType, SelectCredentialsForRequestOptions, SelectCredentialsForRequestReturn };
//# sourceMappingURL=DidCommProofProtocolOptions.d.mts.map