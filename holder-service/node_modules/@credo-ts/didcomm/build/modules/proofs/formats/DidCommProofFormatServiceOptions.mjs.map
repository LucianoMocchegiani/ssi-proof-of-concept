{"version":3,"file":"DidCommProofFormatServiceOptions.mjs","names":[],"sources":["../../../../src/modules/proofs/formats/DidCommProofFormatServiceOptions.ts"],"sourcesContent":["import type { DidCommAttachment } from '../../../decorators/attachment/DidCommAttachment'\nimport type { DidCommProofFormatSpec } from '../models/DidCommProofFormatSpec'\nimport type { DidCommProofExchangeRecord } from '../repository/DidCommProofExchangeRecord'\nimport type {\n  DidCommProofFormat,\n  DidCommProofFormatCredentialForRequestPayload,\n  DidCommProofFormatPayload,\n} from './DidCommProofFormat'\nimport type { DidCommProofFormatService } from './DidCommProofFormatService'\n\n/**\n * Infer the {@link DidCommProofFormat} based on a {@link DidCommProofFormatService}.\n *\n * It does this by extracting the `ProofFormat` generic from the `ProofFormatService`.\n *\n * @example\n * ```\n * // TheProofFormat is now equal to IndyProofFormat\n * type TheProofFormat = ExtractProofFormat<IndyProofFormatService>\n * ```\n *\n * Because the `IndyProofFormatService` is defined as follows:\n * ```\n * class IndyProofFormatService implements ProofFormatService<IndyProofFormat> {\n * }\n * ```\n */\nexport type ExtractProofFormat<Type> = Type extends DidCommProofFormatService<infer ProofFormat> ? ProofFormat : never\n\n/**\n * Infer an array of {@link DidCommProofFormat} types based on an array of {@link DidCommProofFormatService} types.\n *\n * This is based on {@link ExtractProofFormat}, but allows to handle arrays.\n */\nexport type ExtractProofFormats<PFs extends DidCommProofFormatService[]> = {\n  [PF in keyof PFs]: ExtractProofFormat<PFs[PF]>\n}\n\n/**\n * Base return type for all methods that create an attachment format.\n *\n * It requires an attachment and a format to be returned.\n */\nexport interface DidCommProofFormatCreateReturn {\n  format: DidCommProofFormatSpec\n  attachment: DidCommAttachment\n}\n\n/**\n * Base type for all proof process methods.\n */\nexport interface DidCommProofFormatProcessOptions {\n  attachment: DidCommAttachment\n  proofRecord: DidCommProofExchangeRecord\n}\n\nexport interface DidCommProofFormatProcessPresentationOptions extends DidCommProofFormatProcessOptions {\n  requestAttachment: DidCommAttachment\n}\n\nexport interface DidCommProofFormatCreateProposalOptions<PF extends DidCommProofFormat> {\n  proofRecord: DidCommProofExchangeRecord\n  proofFormats: DidCommProofFormatPayload<[PF], 'createProposal'>\n  attachmentId?: string\n}\n\nexport interface DidCommProofFormatAcceptProposalOptions<PF extends DidCommProofFormat> {\n  proofRecord: DidCommProofExchangeRecord\n  proofFormats?: DidCommProofFormatPayload<[PF], 'acceptProposal'>\n  attachmentId?: string\n\n  proposalAttachment: DidCommAttachment\n}\n\nexport interface DidCommFormatCreateRequestOptions<PF extends DidCommProofFormat> {\n  proofRecord: DidCommProofExchangeRecord\n  proofFormats: DidCommProofFormatPayload<[PF], 'createRequest'>\n  attachmentId?: string\n}\n\nexport interface DidCommProofFormatAcceptRequestOptions<PF extends DidCommProofFormat> {\n  proofRecord: DidCommProofExchangeRecord\n  proofFormats?: DidCommProofFormatPayload<[PF], 'acceptRequest'>\n  attachmentId?: string\n\n  requestAttachment: DidCommAttachment\n  proposalAttachment?: DidCommAttachment\n}\n\nexport interface DidCommProofFormatGetCredentialsForRequestOptions<PF extends DidCommProofFormat> {\n  proofRecord: DidCommProofExchangeRecord\n  proofFormats?: DidCommProofFormatCredentialForRequestPayload<[PF], 'getCredentialsForRequest', 'input'>\n\n  requestAttachment: DidCommAttachment\n  proposalAttachment?: DidCommAttachment\n}\n\nexport type DidCommProofFormatGetCredentialsForRequestReturn<PF extends DidCommProofFormat> =\n  PF['proofFormats']['getCredentialsForRequest']['output']\n\nexport interface DidCommProofFormatSelectCredentialsForRequestOptions<PF extends DidCommProofFormat> {\n  proofRecord: DidCommProofExchangeRecord\n  proofFormats?: DidCommProofFormatCredentialForRequestPayload<[PF], 'selectCredentialsForRequest', 'input'>\n\n  requestAttachment: DidCommAttachment\n  proposalAttachment?: DidCommAttachment\n}\n\nexport type DidCommProofFormatSelectCredentialsForRequestReturn<PF extends DidCommProofFormat> =\n  PF['proofFormats']['selectCredentialsForRequest']['output']\n\nexport interface DidCommProofFormatAutoRespondProposalOptions {\n  proofRecord: DidCommProofExchangeRecord\n  proposalAttachment: DidCommAttachment\n  requestAttachment: DidCommAttachment\n}\n\nexport interface DidCommProofFormatAutoRespondRequestOptions {\n  proofRecord: DidCommProofExchangeRecord\n  requestAttachment: DidCommAttachment\n  proposalAttachment: DidCommAttachment\n}\n\nexport interface DidCommProofFormatAutoRespondPresentationOptions {\n  proofRecord: DidCommProofExchangeRecord\n  proposalAttachment?: DidCommAttachment\n  requestAttachment: DidCommAttachment\n  presentationAttachment: DidCommAttachment\n}\n"],"mappings":""}