{"version":3,"file":"DidCommBasicMessageRecord.mjs","names":[],"sources":["../../../../src/modules/basic-messages/repository/DidCommBasicMessageRecord.ts"],"sourcesContent":["import type { RecordTags, TagsBase } from '@credo-ts/core'\nimport { BaseRecord, utils } from '@credo-ts/core'\nimport type { DidCommBasicMessageRole } from '../DidCommBasicMessageRole'\n\nexport type CustomDidCommBasicMessageTags = TagsBase\nexport type DefaultDidCommBasicMessageTags = {\n  connectionId: string\n  role: DidCommBasicMessageRole\n  threadId?: string\n  parentThreadId?: string\n}\n\nexport type DidCommBasicMessageTags = RecordTags<DidCommBasicMessageRecord>\n\nexport interface DidCommBasicMessageStorageProps {\n  id?: string\n  createdAt?: Date\n  connectionId: string\n  role: DidCommBasicMessageRole\n  tags?: CustomDidCommBasicMessageTags\n  threadId?: string\n  parentThreadId?: string\n  content: string\n  sentTime: string\n}\n\nexport class DidCommBasicMessageRecord extends BaseRecord<\n  DefaultDidCommBasicMessageTags,\n  CustomDidCommBasicMessageTags\n> {\n  public content!: string\n  public sentTime!: string\n  public connectionId!: string\n  public role!: DidCommBasicMessageRole\n  public threadId?: string\n  public parentThreadId?: string\n\n  public static readonly type = 'BasicMessageRecord'\n  public readonly type = DidCommBasicMessageRecord.type\n\n  public constructor(props: DidCommBasicMessageStorageProps) {\n    super()\n\n    if (props) {\n      this.id = props.id ?? utils.uuid()\n      this.createdAt = props.createdAt ?? new Date()\n      this.content = props.content\n      this.sentTime = props.sentTime\n      this.connectionId = props.connectionId\n      this._tags = props.tags ?? {}\n      this.role = props.role\n      this.threadId = props.threadId\n      this.parentThreadId = props.parentThreadId\n    }\n  }\n\n  public getTags() {\n    return {\n      ...this._tags,\n      connectionId: this.connectionId,\n      role: this.role,\n      threadId: this.threadId,\n      parentThreadId: this.parentThreadId,\n    }\n  }\n}\n"],"mappings":";;;AA0BA,IAAa,4BAAb,MAAa,kCAAkC,WAG7C;CAWA,AAAO,YAAY,OAAwC;AACzD,SAAO;OAHO,OAAO,0BAA0B;AAK/C,MAAI,OAAO;AACT,QAAK,KAAK,MAAM,MAAM,MAAM,MAAM;AAClC,QAAK,YAAY,MAAM,6BAAa,IAAI,MAAM;AAC9C,QAAK,UAAU,MAAM;AACrB,QAAK,WAAW,MAAM;AACtB,QAAK,eAAe,MAAM;AAC1B,QAAK,QAAQ,MAAM,QAAQ,EAAE;AAC7B,QAAK,OAAO,MAAM;AAClB,QAAK,WAAW,MAAM;AACtB,QAAK,iBAAiB,MAAM;;;CAIhC,AAAO,UAAU;AACf,SAAO;GACL,GAAG,KAAK;GACR,cAAc,KAAK;GACnB,MAAM,KAAK;GACX,UAAU,KAAK;GACf,gBAAgB,KAAK;GACtB;;;0BA1BoB,OAAO"}