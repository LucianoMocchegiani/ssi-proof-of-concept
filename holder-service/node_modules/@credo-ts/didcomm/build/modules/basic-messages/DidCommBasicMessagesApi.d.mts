import { DidCommBasicMessageRecord } from "./repository/DidCommBasicMessageRecord.mjs";
import { DidCommConnectionService } from "../connections/services/DidCommConnectionService.mjs";
import "../connections/services/index.mjs";
import { DidCommBasicMessageService } from "./services/DidCommBasicMessageService.mjs";
import "./services/index.mjs";
import { DidCommMessageSender } from "../../DidCommMessageSender.mjs";
import { AgentContext, Query, QueryOptions } from "@credo-ts/core";

//#region src/modules/basic-messages/DidCommBasicMessagesApi.d.ts
declare class DidCommBasicMessagesApi {
  private basicMessageService;
  private messageSender;
  private connectionService;
  private agentContext;
  constructor(basicMessageService: DidCommBasicMessageService, messageSender: DidCommMessageSender, connectionService: DidCommConnectionService, agentContext: AgentContext);
  /**
   * Send a message to an active connection
   *
   * @param connectionId Connection Id
   * @param message Message contents
   * @throws {RecordNotFoundError} If connection is not found
   * @throws {MessageSendingError} If message is undeliverable
   * @returns the created record
   */
  sendMessage(connectionId: string, message: string, parentThreadId?: string): Promise<DidCommBasicMessageRecord>;
  /**
   * Retrieve all basic messages matching a given query
   *
   * @param query The query
   * @param queryOptions The query options
   * @returns array containing all matching records
   */
  findAllByQuery(query: Query<DidCommBasicMessageRecord>, queryOptions?: QueryOptions): Promise<DidCommBasicMessageRecord[]>;
  /**
   * Retrieve a basic message record by id
   *
   * @param basicMessageRecordId The basic message record id
   * @throws {RecordNotFoundError} If no record is found
   * @return The basic message record
   *
   */
  getById(basicMessageRecordId: string): Promise<DidCommBasicMessageRecord>;
  /**
   * Retrieve a basic message record by thread id
   *
   * @param threadId The thread id
   * @throws {RecordNotFoundError} If no record is found
   * @throws {RecordDuplicateError} If multiple records are found
   * @returns The connection record
   */
  getByThreadId(basicMessageRecordId: string): Promise<DidCommBasicMessageRecord>;
  /**
   * Delete a basic message record by id
   *
   * @param connectionId the basic message record id
   * @throws {RecordNotFoundError} If no record is found
   */
  deleteById(basicMessageRecordId: string): Promise<void>;
}
//#endregion
export { DidCommBasicMessagesApi };
//# sourceMappingURL=DidCommBasicMessagesApi.d.mts.map