{"version":3,"file":"DidCommStatusV2Handler.mjs","names":[],"sources":["../../../../../../src/modules/message-pickup/protocol/v2/handlers/DidCommStatusV2Handler.ts"],"sourcesContent":["import type { DidCommMessageHandler } from '../../../../../handlers'\nimport type { DidCommInboundMessageContext } from '../../../../../models'\nimport { DidCommOutboundMessageContext } from '../../../../../models'\nimport type { DidCommMessagePickupV2Protocol } from '../DidCommMessagePickupV2Protocol'\nimport { DidCommStatusV2Message } from '../messages'\n\nexport class DidCommStatusV2Handler implements DidCommMessageHandler {\n  public supportedMessages = [DidCommStatusV2Message]\n  private messagePickupProtocol: DidCommMessagePickupV2Protocol\n\n  public constructor(messagePickupProtocol: DidCommMessagePickupV2Protocol) {\n    this.messagePickupProtocol = messagePickupProtocol\n  }\n\n  public async handle(messageContext: DidCommInboundMessageContext<DidCommStatusV2Message>) {\n    const connection = messageContext.assertReadyConnection()\n    const deliveryRequestMessage = await this.messagePickupProtocol.processStatus(messageContext)\n\n    if (deliveryRequestMessage) {\n      return new DidCommOutboundMessageContext(deliveryRequestMessage, {\n        agentContext: messageContext.agentContext,\n        connection,\n      })\n    }\n  }\n}\n"],"mappings":";;;;;;AAMA,IAAa,yBAAb,MAAqE;CAInE,AAAO,YAAY,uBAAuD;OAHnE,oBAAoB,CAAC,uBAAuB;AAIjD,OAAK,wBAAwB;;CAG/B,MAAa,OAAO,gBAAsE;EACxF,MAAM,aAAa,eAAe,uBAAuB;EACzD,MAAM,yBAAyB,MAAM,KAAK,sBAAsB,cAAc,eAAe;AAE7F,MAAI,uBACF,QAAO,IAAI,8BAA8B,wBAAwB;GAC/D,cAAc,eAAe;GAC7B;GACD,CAAC"}