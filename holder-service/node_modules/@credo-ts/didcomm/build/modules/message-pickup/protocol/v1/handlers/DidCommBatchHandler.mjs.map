{"version":3,"file":"DidCommBatchHandler.mjs","names":[],"sources":["../../../../../../src/modules/message-pickup/protocol/v1/handlers/DidCommBatchHandler.ts"],"sourcesContent":["import type { DidCommMessageHandler, DidCommMessageHandlerInboundMessage } from '../../../../../handlers'\nimport { DidCommOutboundMessageContext } from '../../../../../models'\nimport type { DidCommMessagePickupV1Protocol } from '../DidCommMessagePickupV1Protocol'\nimport { DidCommBatchMessage } from '../messages'\n\nexport class DidCommBatchHandler implements DidCommMessageHandler {\n  public supportedMessages = [DidCommBatchMessage]\n  private messagePickupProtocol: DidCommMessagePickupV1Protocol\n\n  public constructor(messagePickupProtocol: DidCommMessagePickupV1Protocol) {\n    this.messagePickupProtocol = messagePickupProtocol\n  }\n\n  public async handle(messageContext: DidCommMessageHandlerInboundMessage<DidCommBatchHandler>) {\n    const connection = messageContext.assertReadyConnection()\n    const batchRequestMessage = await this.messagePickupProtocol.processBatch(messageContext)\n\n    if (batchRequestMessage) {\n      return new DidCommOutboundMessageContext(batchRequestMessage, {\n        agentContext: messageContext.agentContext,\n        connection,\n      })\n    }\n  }\n}\n"],"mappings":";;;;;;AAKA,IAAa,sBAAb,MAAkE;CAIhE,AAAO,YAAY,uBAAuD;OAHnE,oBAAoB,CAAC,oBAAoB;AAI9C,OAAK,wBAAwB;;CAG/B,MAAa,OAAO,gBAA0E;EAC5F,MAAM,aAAa,eAAe,uBAAuB;EACzD,MAAM,sBAAsB,MAAM,KAAK,sBAAsB,aAAa,eAAe;AAEzF,MAAI,oBACF,QAAO,IAAI,8BAA8B,qBAAqB;GAC5D,cAAc,eAAe;GAC7B;GACD,CAAC"}