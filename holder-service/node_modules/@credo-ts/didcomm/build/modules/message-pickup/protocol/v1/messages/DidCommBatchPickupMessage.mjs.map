{"version":3,"file":"DidCommBatchPickupMessage.mjs","names":[],"sources":["../../../../../../src/modules/message-pickup/protocol/v1/messages/DidCommBatchPickupMessage.ts"],"sourcesContent":["import { Expose } from 'class-transformer'\nimport { IsInt } from 'class-validator'\n\nimport { DidCommMessage } from '../../../../../DidCommMessage'\nimport { IsValidMessageType, parseMessageType } from '../../../../../util/messageType'\n\nexport interface DidCommBatchPickupMessageOptions {\n  id?: string\n  batchSize: number\n}\n\n/**\n * A message to request to have multiple waiting messages sent inside a `batch` message.\n *\n * @see https://github.com/hyperledger/aries-rfcs/blob/master/features/0212-pickup/README.md#batch-pickup\n */\nexport class DidCommBatchPickupMessage extends DidCommMessage {\n  public readonly allowQueueTransport = false\n\n  /**\n   * Create new BatchPickupMessage instance.\n   *\n   * @param options\n   */\n  public constructor(options: DidCommBatchPickupMessageOptions) {\n    super()\n\n    if (options) {\n      this.id = options.id || this.generateId()\n      this.batchSize = options.batchSize\n    }\n  }\n\n  @IsValidMessageType(DidCommBatchPickupMessage.type)\n  public readonly type = DidCommBatchPickupMessage.type.messageTypeUri\n  public static readonly type = parseMessageType('https://didcomm.org/messagepickup/1.0/batch-pickup')\n\n  @IsInt()\n  @Expose({ name: 'batch_size' })\n  public batchSize!: number\n}\n"],"mappings":";;;;;;;;;;;;;AAgBA,IAAa,4BAAb,MAAa,kCAAkC,eAAe;;;;;;CAQ5D,AAAO,YAAY,SAA2C;AAC5D,SAAO;OARO,sBAAsB;OAiBtB,OAAO,0BAA0B,KAAK;AAPpD,MAAI,SAAS;AACX,QAAK,KAAK,QAAQ,MAAM,KAAK,YAAY;AACzC,QAAK,YAAY,QAAQ;;;;0BAMN,OAAO,iBAAiB,qDAAqD;YAFnG,mBAAmB,0BAA0B,KAAK;;CAIlD,OAAO;CACP,OAAO,EAAE,MAAM,cAAc,CAAC"}