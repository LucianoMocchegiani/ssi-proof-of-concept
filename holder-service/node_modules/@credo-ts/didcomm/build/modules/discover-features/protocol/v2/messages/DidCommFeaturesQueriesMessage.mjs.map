{"version":3,"file":"DidCommFeaturesQueriesMessage.mjs","names":[],"sources":["../../../../../../src/modules/discover-features/protocol/v2/messages/DidCommFeaturesQueriesMessage.ts"],"sourcesContent":["import { Type } from 'class-transformer'\nimport { ArrayNotEmpty, IsInstance } from 'class-validator'\nimport { DidCommMessage } from '../../../../../DidCommMessage'\nimport type { DidCommFeatureQueryOptions } from '../../../../../models'\nimport { DidCommFeatureQuery } from '../../../../../models'\nimport { IsValidMessageType, parseMessageType } from '../../../../../util/messageType'\n\nexport interface DidCommFeaturesQueriesMessageOptions {\n  id?: string\n  queries: DidCommFeatureQueryOptions[]\n  comment?: string\n}\n\nexport class DidCommFeaturesQueriesMessage extends DidCommMessage {\n  public constructor(options: DidCommFeaturesQueriesMessageOptions) {\n    super()\n\n    if (options) {\n      this.id = options.id ?? this.generateId()\n      this.queries = options.queries.map((q) => new DidCommFeatureQuery(q))\n    }\n  }\n\n  @IsValidMessageType(DidCommFeaturesQueriesMessage.type)\n  public readonly type = DidCommFeaturesQueriesMessage.type.messageTypeUri\n  public static readonly type = parseMessageType('https://didcomm.org/discover-features/2.0/queries')\n\n  @IsInstance(DidCommFeatureQuery, { each: true })\n  @Type(() => DidCommFeatureQuery)\n  @ArrayNotEmpty()\n  public queries!: DidCommFeatureQuery[]\n}\n"],"mappings":";;;;;;;;;;AAaA,IAAa,gCAAb,MAAa,sCAAsC,eAAe;CAChE,AAAO,YAAY,SAA+C;AAChE,SAAO;OASO,OAAO,8BAA8B,KAAK;AAPxD,MAAI,SAAS;AACX,QAAK,KAAK,QAAQ,MAAM,KAAK,YAAY;AACzC,QAAK,UAAU,QAAQ,QAAQ,KAAK,MAAM,IAAI,oBAAoB,EAAE,CAAC;;;;8BAMlD,OAAO,iBAAiB,oDAAoD;YAFlG,mBAAmB,8BAA8B,KAAK;;CAItD,WAAW,qBAAqB,EAAE,MAAM,MAAM,CAAC;CAC/C,WAAW,oBAAoB;CAC/B,eAAe"}