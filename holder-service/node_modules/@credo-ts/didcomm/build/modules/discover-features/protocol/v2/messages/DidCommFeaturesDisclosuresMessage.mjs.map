{"version":3,"file":"DidCommFeaturesDisclosuresMessage.mjs","names":[],"sources":["../../../../../../src/modules/discover-features/protocol/v2/messages/DidCommFeaturesDisclosuresMessage.ts"],"sourcesContent":["import { Type } from 'class-transformer'\nimport { IsInstance } from 'class-validator'\n\nimport { DidCommMessage } from '../../../../../DidCommMessage'\nimport { DidCommFeature } from '../../../../../models'\nimport { IsValidMessageType, parseMessageType } from '../../../../../util/messageType'\n\nexport interface DidCommFeaturesDisclosuresMessageOptions {\n  id?: string\n  threadId?: string\n  features?: DidCommFeature[]\n}\n\nexport class DidCommFeaturesDisclosuresMessage extends DidCommMessage {\n  public constructor(options: DidCommFeaturesDisclosuresMessageOptions) {\n    super()\n\n    if (options) {\n      this.id = options.id ?? this.generateId()\n      this.disclosures = options.features ?? []\n      if (options.threadId) {\n        this.setThread({\n          threadId: options.threadId,\n        })\n      }\n    }\n  }\n\n  @IsValidMessageType(DidCommFeaturesDisclosuresMessage.type)\n  public readonly type = DidCommFeaturesDisclosuresMessage.type.messageTypeUri\n  public static readonly type = parseMessageType('https://didcomm.org/discover-features/2.0/disclosures')\n\n  @IsInstance(DidCommFeature, { each: true })\n  @Type(() => DidCommFeature)\n  public disclosures!: DidCommFeature[]\n}\n"],"mappings":";;;;;;;;;;AAaA,IAAa,oCAAb,MAAa,0CAA0C,eAAe;CACpE,AAAO,YAAY,SAAmD;AACpE,SAAO;OAcO,OAAO,kCAAkC,KAAK;AAZ5D,MAAI,SAAS;AACX,QAAK,KAAK,QAAQ,MAAM,KAAK,YAAY;AACzC,QAAK,cAAc,QAAQ,YAAY,EAAE;AACzC,OAAI,QAAQ,SACV,MAAK,UAAU,EACb,UAAU,QAAQ,UACnB,CAAC;;;;kCAOe,OAAO,iBAAiB,wDAAwD;YAFtG,mBAAmB,kCAAkC,KAAK;;CAI1D,WAAW,gBAAgB,EAAE,MAAM,MAAM,CAAC;CAC1C,WAAW,eAAe"}