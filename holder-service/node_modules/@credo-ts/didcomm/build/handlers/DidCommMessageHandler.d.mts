import { ConstructableAgentMessage } from "../DidCommMessage.mjs";
import { DidCommOutboundMessageContext } from "../models/DidCommOutboundMessageContext.mjs";
import { DidCommInboundMessageContext } from "../models/DidCommInboundMessageContext.mjs";
import "../models/index.mjs";

//#region src/handlers/DidCommMessageHandler.d.ts
interface DidCommMessageHandler {
  readonly supportedMessages: readonly ConstructableAgentMessage[];
  handle(messageContext: DidCommInboundMessageContext): Promise<DidCommOutboundMessageContext | undefined>;
}
/**
 * Provides exact typing for the DidCommMessage in the message context in the `handle` function
 * of a handler. It takes all possible types from `supportedMessageTypes`
 *
 * @example
 * async handle(messageContext: DidCommMessageHandlerInboundMessage<BasicMessageHandler>) {}
 */
type DidCommMessageHandlerInboundMessage<H extends DidCommMessageHandler> = DidCommInboundMessageContext<InstanceType<H['supportedMessages'][number]>>;
//#endregion
export { DidCommMessageHandler, DidCommMessageHandlerInboundMessage };
//# sourceMappingURL=DidCommMessageHandler.d.mts.map