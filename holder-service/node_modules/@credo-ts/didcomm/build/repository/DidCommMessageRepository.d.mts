import { ConstructableAgentMessage, DidCommMessage } from "../DidCommMessage.mjs";
import { DidCommMessageRole } from "./DidCommMessageRole.mjs";
import { DidCommMessageRecord } from "./DidCommMessageRecord.mjs";
import { AgentContext, EventEmitter, Repository, StorageService } from "@credo-ts/core";

//#region src/repository/DidCommMessageRepository.d.ts
declare class DidCommMessageRepository extends Repository<DidCommMessageRecord> {
  constructor(storageService: StorageService<DidCommMessageRecord>, eventEmitter: EventEmitter);
  saveAgentMessage(agentContext: AgentContext, {
    role,
    agentMessage,
    associatedRecordId
  }: SaveAgentMessageOptions): Promise<void>;
  saveOrUpdateAgentMessage(agentContext: AgentContext, options: SaveAgentMessageOptions): Promise<void>;
  getAgentMessage<MessageClass extends ConstructableAgentMessage = ConstructableAgentMessage>(agentContext: AgentContext, {
    associatedRecordId,
    messageClass,
    role
  }: GetAgentMessageOptions<MessageClass>): Promise<InstanceType<MessageClass>>;
  findAgentMessage<MessageClass extends ConstructableAgentMessage = ConstructableAgentMessage>(agentContext: AgentContext, {
    associatedRecordId,
    messageClass,
    role
  }: GetAgentMessageOptions<MessageClass>): Promise<InstanceType<MessageClass> | null>;
}
interface SaveAgentMessageOptions {
  role: DidCommMessageRole;
  agentMessage: DidCommMessage;
  associatedRecordId: string;
}
interface GetAgentMessageOptions<MessageClass extends typeof DidCommMessage> {
  associatedRecordId: string;
  messageClass: MessageClass;
  role?: DidCommMessageRole;
}
//#endregion
export { DidCommMessageRepository, GetAgentMessageOptions, SaveAgentMessageOptions };
//# sourceMappingURL=DidCommMessageRepository.d.mts.map