{"version":3,"file":"ServiceDecoratorExtension.mjs","names":[],"sources":["../../../src/decorators/service/ServiceDecoratorExtension.ts"],"sourcesContent":["import { Expose, Type } from 'class-transformer'\nimport { IsOptional, ValidateNested } from 'class-validator'\nimport type { BaseMessageConstructor } from '../../BaseDidCommMessage'\nimport type { ServiceDecoratorOptions } from './ServiceDecorator'\n\nimport { ServiceDecorator } from './ServiceDecorator'\n\nexport function ServiceDecorated<T extends BaseMessageConstructor>(Base: T) {\n  class ServiceDecoratorExtension extends Base {\n    @Expose({ name: '~service' })\n    @Type(() => ServiceDecorator)\n    @IsOptional()\n    @ValidateNested()\n    public service?: ServiceDecorator\n\n    public setService(serviceData: ServiceDecoratorOptions) {\n      this.service = new ServiceDecorator(serviceData)\n    }\n  }\n\n  return ServiceDecoratorExtension\n}\n"],"mappings":";;;;;;;AAOA,SAAgB,iBAAmD,MAAS;;CAC1E,MAAM,kCAAkC,KAAK;EAO3C,AAAO,WAAW,aAAsC;AACtD,QAAK,UAAU,IAAI,iBAAiB,YAAY;;;;EAPjD,OAAO,EAAE,MAAM,YAAY,CAAC;EAC5B,WAAW,iBAAiB;EAC5B,YAAY;EACZ,gBAAgB;;;AAQnB,QAAO"}