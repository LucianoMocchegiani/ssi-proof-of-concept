{"version":3,"file":"L10nDecoratorExtension.mjs","names":[],"sources":["../../../src/decorators/l10n/L10nDecoratorExtension.ts"],"sourcesContent":["import { Expose, Type } from 'class-transformer'\nimport { IsInstance, IsOptional, ValidateNested } from 'class-validator'\nimport type { BaseMessageConstructor } from '../../BaseDidCommMessage'\n\nimport { L10nDecorator } from './L10nDecorator'\n\nexport function L10nDecorated<T extends BaseMessageConstructor>(Base: T) {\n  class L10nDecoratorExtension extends Base {\n    @Expose({ name: '~l10n' })\n    @Type(() => L10nDecorator)\n    @ValidateNested()\n    @IsOptional()\n    @IsInstance(L10nDecorator)\n    public l10n?: L10nDecorator\n\n    public addLocale(locale: string) {\n      this.l10n = new L10nDecorator({\n        locale,\n      })\n    }\n\n    public getLocale(): string | undefined {\n      if (this.l10n?.locale) return this.l10n.locale\n\n      return undefined\n    }\n  }\n\n  return L10nDecoratorExtension\n}\n"],"mappings":";;;;;;;AAMA,SAAgB,cAAgD,MAAS;;CACvE,MAAM,+BAA+B,KAAK;EAQxC,AAAO,UAAU,QAAgB;AAC/B,QAAK,OAAO,IAAI,cAAc,EAC5B,QACD,CAAC;;EAGJ,AAAO,YAAgC;AACrC,OAAI,KAAK,MAAM,OAAQ,QAAO,KAAK,KAAK;;;;EAdzC,OAAO,EAAE,MAAM,SAAS,CAAC;EACzB,WAAW,cAAc;EACzB,gBAAgB;EAChB,YAAY;EACZ,WAAW,cAAc;;;AAgB5B,QAAO"}