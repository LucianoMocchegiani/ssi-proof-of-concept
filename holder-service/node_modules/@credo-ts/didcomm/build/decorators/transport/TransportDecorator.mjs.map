{"version":3,"file":"TransportDecorator.mjs","names":[],"sources":["../../../src/decorators/transport/TransportDecorator.ts"],"sourcesContent":["import { Expose } from 'class-transformer'\nimport { IsEnum, IsOptional, Matches, ValidateIf } from 'class-validator'\n\nimport { MessageIdRegExp } from '../../BaseDidCommMessage'\n\n/**\n * Return route types.\n */\nexport enum ReturnRouteTypes {\n  /** No messages should be returned over this connection. */\n  none = 'none',\n  /**  All messages for this key should be returned over this connection. */\n  all = 'all',\n  /** Send all messages matching this thread over this connection. */\n  thread = 'thread',\n}\n\n/**\n * Represents `~transport` decorator\n * @see https://github.com/hyperledger/aries-rfcs/blob/master/features/0092-transport-return-route/README.md\n */\nexport class TransportDecorator {\n  public constructor(partial?: Partial<TransportDecorator>) {\n    this.returnRoute = partial?.returnRoute\n    this.returnRouteThread = partial?.returnRouteThread\n  }\n\n  @Expose({ name: 'return_route' })\n  @IsEnum(ReturnRouteTypes)\n  @IsOptional()\n  public returnRoute?: ReturnRouteTypes\n\n  @Expose({ name: 'return_route_thread' })\n  @ValidateIf((o: TransportDecorator) => o.returnRoute === ReturnRouteTypes.thread)\n  @Matches(MessageIdRegExp)\n  public returnRouteThread?: string\n}\n"],"mappings":";;;;;;;;;;;AAQA,IAAY,8DAAL;;AAEL;;AAEA;;AAEA;;;;;;;AAOF,IAAa,qBAAb,MAAgC;CAC9B,AAAO,YAAY,SAAuC;AACxD,OAAK,cAAc,SAAS;AAC5B,OAAK,oBAAoB,SAAS;;;;CAGnC,OAAO,EAAE,MAAM,gBAAgB,CAAC;CAChC,OAAO,iBAAiB;CACxB,YAAY;;;;CAGZ,OAAO,EAAE,MAAM,uBAAuB,CAAC;CACvC,YAAY,MAA0B,EAAE,gBAAgB,iBAAiB,OAAO;CAChF,QAAQ,gBAAgB"}