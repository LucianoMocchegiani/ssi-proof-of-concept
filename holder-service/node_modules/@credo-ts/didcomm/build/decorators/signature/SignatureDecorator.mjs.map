{"version":3,"file":"SignatureDecorator.mjs","names":[],"sources":["../../../src/decorators/signature/SignatureDecorator.ts"],"sourcesContent":["import { Expose, Transform } from 'class-transformer'\nimport { IsString, Matches } from 'class-validator'\n\nimport { MessageTypeRegExp } from '../../BaseDidCommMessage'\nimport { replaceLegacyDidSovPrefix } from '../../util/messageType'\n\n/**\n * Represents `[field]~sig` decorator\n * @see https://github.com/hyperledger/aries-rfcs/blob/master/features/0234-signature-decorator/README.md\n */\nexport class SignatureDecorator {\n  public constructor(options: SignatureDecorator) {\n    if (options) {\n      this.signatureType = options.signatureType\n      this.signatureData = options.signatureData\n      this.signer = options.signer\n      this.signature = options.signature\n    }\n  }\n\n  @Expose({ name: '@type' })\n  @Transform(({ value }) => replaceLegacyDidSovPrefix(value), {\n    toClassOnly: true,\n  })\n  @Matches(MessageTypeRegExp)\n  public signatureType!: string\n\n  @Expose({ name: 'sig_data' })\n  @IsString()\n  public signatureData!: string\n\n  @Expose({ name: 'signer' })\n  @IsString()\n  public signer!: string\n\n  @Expose({ name: 'signature' })\n  @IsString()\n  public signature!: string\n}\n"],"mappings":";;;;;;;;;;;;AAUA,IAAa,qBAAb,MAAgC;CAC9B,AAAO,YAAY,SAA6B;AAC9C,MAAI,SAAS;AACX,QAAK,gBAAgB,QAAQ;AAC7B,QAAK,gBAAgB,QAAQ;AAC7B,QAAK,SAAS,QAAQ;AACtB,QAAK,YAAY,QAAQ;;;;;CAI5B,OAAO,EAAE,MAAM,SAAS,CAAC;CACzB,WAAW,EAAE,YAAY,0BAA0B,MAAM,EAAE,EAC1D,aAAa,MACd,CAAC;CACD,QAAQ,kBAAkB;;;;CAG1B,OAAO,EAAE,MAAM,YAAY,CAAC;CAC5B,UAAU;;;;CAGV,OAAO,EAAE,MAAM,UAAU,CAAC;CAC1B,UAAU;;;;CAGV,OAAO,EAAE,MAAM,aAAa,CAAC;CAC7B,UAAU"}