{"version":3,"file":"TimingDecoratorExtension.mjs","names":[],"sources":["../../../src/decorators/timing/TimingDecoratorExtension.ts"],"sourcesContent":["import { Expose, Type } from 'class-transformer'\nimport { IsInstance, IsOptional, ValidateNested } from 'class-validator'\nimport type { BaseMessageConstructor } from '../../BaseDidCommMessage'\n\nimport { TimingDecorator } from './TimingDecorator'\n\nexport function TimingDecorated<T extends BaseMessageConstructor>(Base: T) {\n  class TimingDecoratorExtension extends Base {\n    /**\n     * Timing attributes of messages can be described with the ~timing decorator.\n     */\n    @Expose({ name: '~timing' })\n    @Type(() => TimingDecorator)\n    @ValidateNested()\n    @IsInstance(TimingDecorator)\n    @IsOptional()\n    public timing?: TimingDecorator\n\n    public setTiming(options: Partial<TimingDecorator>) {\n      this.timing = new TimingDecorator(options)\n    }\n  }\n\n  return TimingDecoratorExtension\n}\n"],"mappings":";;;;;;;AAMA,SAAgB,gBAAkD,MAAS;;CACzE,MAAM,iCAAiC,KAAK;EAW1C,AAAO,UAAU,SAAmC;AAClD,QAAK,SAAS,IAAI,gBAAgB,QAAQ;;;;EAR3C,OAAO,EAAE,MAAM,WAAW,CAAC;EAC3B,WAAW,gBAAgB;EAC3B,gBAAgB;EAChB,WAAW,gBAAgB;EAC3B,YAAY;;;AAQf,QAAO"}