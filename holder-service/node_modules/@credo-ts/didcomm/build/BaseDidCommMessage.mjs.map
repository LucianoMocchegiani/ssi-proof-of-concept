{"version":3,"file":"BaseDidCommMessage.mjs","names":[],"sources":["../src/BaseDidCommMessage.ts"],"sourcesContent":["import type { Constructor } from '@credo-ts/core'\nimport { utils } from '@credo-ts/core'\nimport { Expose } from 'class-transformer'\nimport { Matches } from 'class-validator'\nimport type { ParsedMessageType } from './util/messageType'\n\nexport const MessageIdRegExp = /[-_./a-zA-Z0-9]{8,64}/\nexport const MessageTypeRegExp = /(.*?)([a-zA-Z0-9._-]+)\\/(\\d[^/]*)\\/([a-zA-Z0-9._-]+)$/\n\nexport type BaseMessageConstructor = Constructor<BaseDidCommMessage>\n\nexport class BaseDidCommMessage {\n  @Matches(MessageIdRegExp)\n  @Expose({ name: '@id' })\n  public id!: string\n\n  @Expose({ name: '@type' })\n  @Matches(MessageTypeRegExp)\n  public readonly type!: string\n  public static readonly type: ParsedMessageType\n\n  public generateId() {\n    return utils.uuid()\n  }\n}\n"],"mappings":";;;;;;;AAMA,MAAa,kBAAkB;AAC/B,MAAa,oBAAoB;AAIjC,IAAa,qBAAb,MAAgC;CAU9B,AAAO,aAAa;AAClB,SAAO,MAAM,MAAM;;;;CAVpB,QAAQ,gBAAgB;CACxB,OAAO,EAAE,MAAM,OAAO,CAAC;;;;CAGvB,OAAO,EAAE,MAAM,SAAS,CAAC;CACzB,QAAQ,kBAAkB"}