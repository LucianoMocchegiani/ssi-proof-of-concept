import { DidCommEncryptedMessage } from "./types.mjs";
import { DidCommMessage } from "./DidCommMessage.mjs";
import { EnvelopeKeys } from "./DidCommEnvelopeService.mjs";
import { AgentContext, DidDocument, EventEmitter } from "@credo-ts/core";

//#region src/DidCommTransportService.d.ts
declare class DidCommTransportService {
  transportSessionTable: TransportSessionTable;
  private agentContext;
  private eventEmitter;
  constructor(agentContext: AgentContext, eventEmitter: EventEmitter);
  saveSession(session: DidCommTransportSession): void;
  findSessionByConnectionId(connectionId: string): DidCommTransportSession | undefined;
  setConnectionIdForSession(sessionId: string, connectionId: string): void;
  hasInboundEndpoint(didDocument: DidDocument): boolean;
  findSessionById(sessionId: string): DidCommTransportSession | undefined;
  removeSession(session: DidCommTransportSession): void;
  private getExistingSessionsForConnectionIdAndType;
}
interface TransportSessionTable {
  [sessionId: string]: DidCommTransportSession | undefined;
}
interface DidCommTransportSession {
  id: string;
  type: string;
  keys?: EnvelopeKeys;
  inboundMessage?: DidCommMessage;
  connectionId?: string;
  send(agentContext: AgentContext, encryptedMessage: DidCommEncryptedMessage): Promise<void>;
  close(): Promise<void>;
}
//#endregion
export { DidCommTransportService, DidCommTransportSession };
//# sourceMappingURL=DidCommTransportService.d.mts.map