import { DidCommEncryptedMessage } from "../types.mjs";
import { DidCommMessage } from "../DidCommMessage.mjs";
import { DidCommMessageHandler } from "../handlers/DidCommMessageHandler.mjs";
import "../handlers/index.mjs";
import { DidCommConnectionRecord } from "../modules/connections/repository/DidCommConnectionRecord.mjs";
import "../modules/connections/repository/index.mjs";
import { DidCommOutboundMessageContext } from "./DidCommOutboundMessageContext.mjs";
import { AgentContext, Kms } from "@credo-ts/core";

//#region src/models/DidCommInboundMessageContext.d.ts
interface MessageContextParams {
  connection?: DidCommConnectionRecord;
  sessionId?: string;
  senderKey?: Kms.PublicJwk<Kms.Ed25519PublicJwk>;
  recipientKey?: Kms.PublicJwk<Kms.Ed25519PublicJwk>;
  agentContext: AgentContext;
  receivedAt?: Date;
  encryptedMessage?: DidCommEncryptedMessage;
}
declare class DidCommInboundMessageContext<T extends DidCommMessage = DidCommMessage> {
  connection?: DidCommConnectionRecord;
  sessionId?: string;
  senderKey?: Kms.PublicJwk<Kms.Ed25519PublicJwk>;
  recipientKey?: Kms.PublicJwk<Kms.Ed25519PublicJwk>;
  receivedAt: Date;
  readonly agentContext: AgentContext;
  message: T;
  messageHandler?: DidCommMessageHandler;
  responseMessage?: DidCommOutboundMessageContext;
  encryptedMessage?: DidCommEncryptedMessage;
  constructor(message: T, context: MessageContextParams);
  setMessageHandler(messageHandler: DidCommMessageHandler): void;
  setResponseMessage(outboundMessageContext: DidCommOutboundMessageContext): void;
  /**
   * Assert the inbound message has a ready connection associated with it.
   *
   * @throws {CredoError} if there is no connection or the connection is not ready
   */
  assertReadyConnection(): DidCommConnectionRecord;
  toJSON(): {
    message: T;
    recipientKey: string | undefined;
    senderKey: string | undefined;
    sessionId: string | undefined;
    agentContext: {
      contextCorrelationId: string;
    };
  };
}
//#endregion
export { DidCommInboundMessageContext, MessageContextParams };
//# sourceMappingURL=DidCommInboundMessageContext.d.mts.map